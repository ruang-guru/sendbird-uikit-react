{"version":3,"file":"index-81a18227.js","sources":["../../../src/lib/UserProfileContext.jsx","../../../src/rogu/utils/assignmentMaterial.ts","../../../src/rogu/utils/constants.ts","../../../src/rogu/utils/repliedMessage.ts","../../../src/utils/index.ts","../../../src/ui/IconButton/index.jsx","../../../src/hooks/useModal/ModalRoot/index.jsx","../../../src/ui/Button/type.js","../../../src/ui/Button/utils.js","../../../src/ui/Button/index.jsx","../../../src/ui/Modal/index.jsx","../../../src/utils/color.js","../../../src/ui/TextButton/index.jsx","../../../src/lib/pubSub/topics.js","../../../src/lib/selectors.js","../../../src/ui/UserProfile/index.tsx","../../../src/ui/ContextMenu/items/MenuItems.jsx","../../../src/ui/SortByRow/index.jsx","../../../src/ui/ContextMenu/items/EmojiListItems.jsx","../../../src/ui/ContextMenu/index.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * user profile goes deep inside the component tree\n * use this context as a short circuit to send in values\n */\nconst UserProfileContext = React.createContext({\n  disableUserProfile: true,\n  isOpenChannel: false,\n  renderUserProfile: null,\n});\n\nconst UserProfileProvider = (props) => {\n  const { children, className } = props;\n  return (\n    <UserProfileContext.Provider value={props}>\n      <div className={className}>\n        {children}\n      </div>\n    </UserProfileContext.Provider>\n  );\n};\n\nUserProfileProvider.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.any,\n  ]).isRequired,\n  // eslint-disable-next-line react/no-unused-prop-types\n  isOpenChannel: PropTypes.bool,\n  // eslint-disable-next-line react/no-unused-prop-types\n  disableUserProfile: PropTypes.bool,\n  // eslint-disable-next-line react/no-unused-prop-types\n  renderUserProfile: PropTypes.func,\n  className: PropTypes.string,\n};\n\nUserProfileProvider.defaultProps = {\n  className: null,\n  isOpenChannel: false,\n  disableUserProfile: false,\n  renderUserProfile: null,\n};\n\nexport { UserProfileContext, UserProfileProvider };\n","export const isAssignmentMessage = (customType: string): boolean =>\n  customType === \"assignment\";\n\nexport const isMaterialMessage = (customType: string): boolean =>\n  customType === \"material\";\n\nexport const convertCtaLinkToWebLink = (\n  cta: string,\n  customType: string\n): string => {\n  const listOfSerials = cta.split(\"&\");\n  const workspaceSerial = listOfSerials[1].split(\"=\")[1];\n  const classroomSerial = listOfSerials[2].split(\"=\")[1];\n  const serial = listOfSerials[3].split(\"=\")[1];\n  const type_ = customType === \"assignment\" ? \"assignment\" : \"material\";\n  const url = `https://kelas.ruangguru.com/workspace/${workspaceSerial}/classroom/${classroomSerial}/${type_}/detail/${serial}?from=chatroom`;\n\n  return url;\n};\n\nexport const convertAssignmentDueUTCtoLocale = (dueAt: string): string => {\n  const localeDate = new Date(dueAt).toLocaleString();\n  return localeDate;\n};\n","export const META_ARRAY_VALUE_MAX_CHAR = 128;\nexport const REPLIED_MESSAGE_MAX_CHAR = 200;\nexport const REPLIED_MESSAGE_QUOTE_FORMAT = '>';\n\nexport const REGEX_LINE_BREAK = /\\r?\\n|\\r/g;\nexport const REGEX_URL = /[(http(s)?):\\/\\/(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*?)/g;\n","import { MessageMetaArray, SendBirdInstance } from 'sendbird';\n\nimport { CoreMessageType } from '../../utils';\nimport {\n  META_ARRAY_VALUE_MAX_CHAR,\n  REGEX_LINE_BREAK,\n  REPLIED_MESSAGE_MAX_CHAR,\n  REPLIED_MESSAGE_QUOTE_FORMAT,\n} from './constants';\n\nexport enum RepliedMessageType {\n  Assignment = 'assignment',\n  File = 'file',\n  Image = 'image',\n  Material = 'material',\n  Text = 'text',\n  Video = 'video',\n}\n\n// For JS usage\nexport const REPLIED_MESSAGE_TYPE = {\n  Assignment: 'assignment',\n  File: 'file',\n  Image: 'image',\n  Material: 'material',\n  Text: 'text',\n  Video: 'video',\n};\n\nexport type RepliedMessage = {\n  originalMessage?: string;\n  parentMessageBody: string;\n  parentMessageCreatedAt: number;\n  parentMessageId: string;\n  parentMessageMediaUrl?: string;\n  parentMessageMimeType?: string;\n  parentMessageNickname: string;\n  parentMessageType: RepliedMessageType;\n};\n\nexport const formatedStringToRepliedMessage = (\n  message: string\n): RepliedMessage => {\n  // TODO: consider to use regex instead\n  const repliedMessage = message\n    .split('\\n')\n    .filter((word) => isQuoteFormat(word))\n    .map((word) => word.substr(1));\n  const [parentMessageNickname, ...rest] = repliedMessage;\n  const parentMessageBody = rest.join('\\n');\n  const originalMessage = message\n    .split('\\n')\n    .filter((word) => !isQuoteFormat(word))\n    .join('\\n');\n  return {\n    originalMessage,\n    parentMessageId: '',\n    parentMessageBody,\n    parentMessageNickname,\n    parentMessageType: RepliedMessageType.Text,\n    parentMessageCreatedAt: 0,\n  };\n};\n\nexport const repliedMessageToFormatedString = ({\n  originalMessage,\n  parentMessageBody,\n  parentMessageNickname,\n}: RepliedMessage): string =>\n  [\n    '>',\n    parentMessageNickname,\n    '\\n>',\n    parentMessageBody,\n    '\\n',\n    originalMessage,\n  ].join('');\n\nexport const getParentMessageId = (\n  message: CoreMessageType\n): string[] | undefined => {\n  return message?.metaArrays?.[0]?.value;\n};\n\nconst isQuoteFormat = (word: string): boolean => {\n  return word.charAt(0) === REPLIED_MESSAGE_QUOTE_FORMAT;\n};\n\nexport const stringToMetaArrayValue = (str: string): Array<string> => {\n  const metaArrayValue: Array<string> = [];\n  let end = META_ARRAY_VALUE_MAX_CHAR;\n  for (let i = 0; i < str.length; i += META_ARRAY_VALUE_MAX_CHAR) {\n    metaArrayValue.push(str.substring(i, end));\n    end += META_ARRAY_VALUE_MAX_CHAR;\n  }\n\n  return metaArrayValue;\n};\n\nexport const repliedMessageToMetaArrays = (\n  sdk: SendBirdInstance,\n  repliedMessage: RepliedMessage\n): Array<MessageMetaArray> => {\n  const metaArrays = [];\n\n  Object.entries(repliedMessage).forEach(([key, value]) => {\n    metaArrays.push(\n      new sdk.MessageMetaArray(key, stringToMetaArrayValue(String(value)))\n    );\n  });\n\n  return metaArrays;\n};\n\nexport const metaArraysToRepliedMessage = (\n  metaArrays: Array<MessageMetaArray>\n): RepliedMessage =>\n  metaArrays.reduce(\n    (repliedMessage: RepliedMessage, meta: MessageMetaArray) => {\n      repliedMessage[meta.key] = meta.value?.join('');\n\n      return repliedMessage;\n    },\n    {\n      parentMessageBody: '',\n      parentMessageCreatedAt: 0,\n      parentMessageId: '',\n      parentMessageMediaUrl: '',\n      parentMessageMimeType: '*',\n      parentMessageNickname: '',\n      parentMessageType: RepliedMessageType.Text,\n    }\n  );\n\nexport const normalizeRepliedMessageBody = (messageBody: string): string =>\n  messageBody\n    // Remove line break (`\\n`) to avoid breaking the replied message workaround\n    .replace(REGEX_LINE_BREAK, ' ')\n    // Trim the replied message body to ensure that the character length is below the limit\n    .substring(0, REPLIED_MESSAGE_MAX_CHAR);\n","import format from \"date-fns/format\";\nimport {\n  AdminMessage,\n  Emoji,\n  EmojiCategory,\n  EmojiContainer,\n  FileMessage,\n  GroupChannel,\n  GroupChannelListQuery,\n  Member,\n  MessageListParams,\n  OpenChannel,\n  Reaction,\n  SendBirdInstance,\n  User,\n  UserMessage,\n} from \"sendbird\";\nimport { isAssignmentMessage, isMaterialMessage } from '../rogu/utils';\n\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Complete_list_of_MIME_types\nconst SUPPORTED_MIMES = {\n  IMAGE: [\n    \"image/jpeg\",\n    \"image/jpg\",\n    \"image/png\",\n    \"image/gif\",\n    \"image/svg+xml\",\n    \"image/webp\", // not supported in IE\n  ],\n  VIDEO: [\"video/mpeg\", \"video/ogg\", \"video/webm\", \"video/mp4\"],\n  AUDIO: [\n    \"audio/aac\",\n    \"audio/midi\",\n    \"audio/x-midi\",\n    \"audio/mpeg\",\n    \"audio/ogg\",\n    \"audio/opus\",\n    \"audio/wav\",\n    \"audio/webm\",\n    \"audio/3gpp\",\n    \"audio/3gpp2\",\n    \"audio/mp3\",\n  ],\n};\n\nexport interface UIKitMessageTypes {\n  ADMIN: \"ADMIN\";\n  TEXT: \"TEXT\";\n  FILE: \"FILE\";\n  THUMBNAIL: \"THUMBNAIL\";\n  OG: \"OG\";\n  UNKNOWN: \"UNKNOWN\";\n}\nconst UIKitMessageTypes: UIKitMessageTypes = {\n  ADMIN: \"ADMIN\",\n  TEXT: \"TEXT\",\n  FILE: \"FILE\",\n  THUMBNAIL: \"THUMBNAIL\",\n  OG: \"OG\",\n  UNKNOWN: \"UNKNOWN\",\n};\nexport interface UIKitFileTypes {\n  IMAGE: \"IMAGE\";\n  AUDIO: \"AUDIO\";\n  VIDEO: \"VIDEO\";\n  GIF: \"GIF\";\n  OTHERS: \"OTHERS\";\n}\nexport const UIKitFileTypes: UIKitFileTypes = {\n  IMAGE: \"IMAGE\",\n  AUDIO: \"AUDIO\",\n  VIDEO: \"VIDEO\",\n  GIF: \"GIF\",\n  OTHERS: \"OTHERS\",\n};\n\nexport interface SendingMessageStatus {\n  NONE: \"none\";\n  SUCCEEDED: \"succeeded\";\n  FAILED: \"failed\";\n  PENDING: \"pending\";\n}\nconst SendingMessageStatus: SendingMessageStatus = {\n  NONE: \"none\",\n  SUCCEEDED: \"succeeded\",\n  FAILED: \"failed\",\n  PENDING: \"pending\",\n};\n\ninterface OutgoingMessageStates {\n  NONE: \"NONE\";\n  PENDING: \"PENDING\";\n  SENT: \"SENT\";\n  FAILED: \"FAILED\";\n  DELIVERED: \"DELIVERED\";\n  READ: \"READ\";\n  // delivered and read are only in group channel\n}\nexport const OutgoingMessageStates: OutgoingMessageStates = {\n  NONE: \"NONE\",\n  PENDING: \"PENDING\",\n  SENT: \"SENT\",\n  FAILED: \"FAILED\",\n  DELIVERED: \"DELIVERED\",\n  READ: \"READ\",\n};\n\nexport type CoreMessageType = (AdminMessage | UserMessage | FileMessage) & {\n  // Add `isOperatorMessage` attribute manually since Sendbird type declaration doesnt provide it explicitly\n  isOperatorMessage?: boolean;\n};\n\nexport const isImage = (type: string): boolean =>\n  SUPPORTED_MIMES.IMAGE.indexOf(type) >= 0;\nexport const isVideo = (type: string): boolean =>\n  SUPPORTED_MIMES.VIDEO.indexOf(type) >= 0;\nexport const isGif = (type: string): boolean => type === \"image/gif\";\nexport const isSupportedFileView = (type: string): boolean =>\n  isImage(type) || isVideo(type);\nexport const isAudio = (type: string): boolean =>\n  SUPPORTED_MIMES.AUDIO.indexOf(type) >= 0;\n\nexport const getUIKitFileTypes = (): UIKitFileTypes => ({ ...UIKitFileTypes });\nexport const getUIKitFileType = (type: string): string => {\n  if (isImage(type)) return UIKitFileTypes.IMAGE;\n  if (isVideo(type)) return UIKitFileTypes.VIDEO;\n  if (isAudio(type)) return UIKitFileTypes.AUDIO;\n  if (isGif(type)) return UIKitFileTypes.GIF;\n  return UIKitFileTypes.OTHERS;\n};\nexport const getOutgoingMessageStates = (): OutgoingMessageStates => ({\n  ...OutgoingMessageStates,\n});\nexport const getOutgoingMessageState = (\n  channel: GroupChannel | OpenChannel,\n  message: UserMessage | FileMessage\n): string => {\n  if (message.sendingStatus === \"pending\") return OutgoingMessageStates.PENDING;\n  if (message.sendingStatus === \"failed\") return OutgoingMessageStates.FAILED;\n  if (channel.isGroupChannel()) {\n    /* GroupChannel only */\n    if ((channel as GroupChannel).getUnreadMemberCount(message) === 0) {\n      return OutgoingMessageStates.READ;\n    } else if (\n      (channel as GroupChannel).getUndeliveredMemberCount(message) === 0\n    ) {\n      return OutgoingMessageStates.DELIVERED;\n    }\n  }\n  if (message.sendingStatus === \"succeeded\") return OutgoingMessageStates.SENT;\n  return OutgoingMessageStates.NONE;\n};\nexport const isSentMessage = (\n  channel: GroupChannel | OpenChannel,\n  message: UserMessage | FileMessage\n): boolean =>\n  getOutgoingMessageState(channel, message) === OutgoingMessageStates.SENT ||\n  getOutgoingMessageState(channel, message) ===\n    OutgoingMessageStates.DELIVERED ||\n  getOutgoingMessageState(channel, message) === OutgoingMessageStates.READ;\nexport const isDeliveredMessage = (\n  channel: GroupChannel,\n  message: UserMessage | FileMessage\n): boolean =>\n  getOutgoingMessageState(channel, message) ===\n    OutgoingMessageStates.DELIVERED ||\n  getOutgoingMessageState(channel, message) === OutgoingMessageStates.READ;\nexport const isReadMessage = (\n  channel: GroupChannel,\n  message: UserMessage | FileMessage\n): boolean =>\n  getOutgoingMessageState(channel, message) === OutgoingMessageStates.READ;\nexport const isFailedMessage = (\n  channel: GroupChannel | OpenChannel,\n  message: UserMessage | FileMessage\n): boolean =>\n  getOutgoingMessageState(channel, message) === OutgoingMessageStates.FAILED;\nexport const isPendingMessage = (\n  channel: GroupChannel | OpenChannel,\n  message: UserMessage | FileMessage\n): boolean =>\n  getOutgoingMessageState(channel, message) === OutgoingMessageStates.PENDING;\nexport const isSentStatus = (state: string): boolean =>\n  state === OutgoingMessageStates.SENT ||\n  state === OutgoingMessageStates.DELIVERED ||\n  state === OutgoingMessageStates.READ;\n\nexport const isAdminMessage = (message: AdminMessage): boolean =>\n  message &&\n  (message.isAdminMessage?.() ||\n    (message[\"messageType\"] && message.messageType === \"admin\"));\nexport const isUserMessage = (message: UserMessage): boolean =>\n  message &&\n  (message.isUserMessage?.() ||\n    (message[\"messageType\"] && message.messageType === \"user\"));\nexport const isFileMessage = (message: FileMessage): boolean =>\n  message &&\n  (message.isFileMessage?.() ||\n    (message[\"messageType\"] && message.messageType === \"file\"));\n\nexport const isOGMessage = (message: UserMessage): boolean =>\n  !!(\n    message &&\n    isUserMessage(message) &&\n    message?.ogMetaData &&\n    message?.ogMetaData?.url\n  );\nexport const isTextMessage = (message: UserMessage): boolean =>\n  isUserMessage(message) && \n  !isOGMessage(message) && \n  !isAssignmentMessage(message.customType) && \n  !isMaterialMessage(message.customType);\nexport const isThumbnailMessage = (message: FileMessage): boolean =>\n  message && isFileMessage(message) && isSupportedFileView(message.type);\nexport const isImageMessage = (message: FileMessage): boolean =>\n  message && isThumbnailMessage(message) && isImage(message.type);\nexport const isVideoMessage = (message: FileMessage): boolean =>\n  message && isThumbnailMessage(message) && isVideo(message.type);\nexport const isGifMessage = (message: FileMessage): boolean =>\n  message && isThumbnailMessage(message) && isGif(message.type);\nexport const isAudioMessage = (message: FileMessage): boolean =>\n  message && isFileMessage(message) && isAudio(message.type);\n\nexport const isEditedMessage = (message: UserMessage): boolean =>\n  isUserMessage(message) && message?.updatedAt > 0;\nexport const isEnabledOGMessage = (message: UserMessage): boolean =>\n  !message || !message.ogMetaData || !message.ogMetaData.url ? false : true;\n\nexport const getUIKitMessageTypes = (): UIKitMessageTypes => ({\n  ...UIKitMessageTypes,\n});\nexport const getUIKitMessageType = (message: CoreMessageType): string => {\n  if (isAdminMessage(message as AdminMessage)) return UIKitMessageTypes.ADMIN;\n  if (isUserMessage(message as UserMessage)) {\n    return isOGMessage(message as UserMessage)\n      ? UIKitMessageTypes.OG\n      : UIKitMessageTypes.TEXT;\n  }\n  if (isFileMessage(message as FileMessage)) {\n    return isThumbnailMessage(message as FileMessage)\n      ? UIKitMessageTypes.THUMBNAIL\n      : UIKitMessageTypes.FILE;\n  }\n  return UIKitMessageTypes.UNKNOWN;\n};\nexport const getSendingMessageStatus = (): SendingMessageStatus => ({\n  ...SendingMessageStatus,\n});\n\nconst reducer = (\n  accumulator: Array<string>,\n  currentValue: string | Array<string>\n): Array<any> => {\n  if (Array.isArray(currentValue)) {\n    return [...accumulator, ...currentValue];\n  } else {\n    accumulator.push(currentValue);\n    return accumulator;\n  }\n};\nexport const getClassName = (\n  classNames: string | Array<string | Array<string>>\n): string =>\n  Array.isArray(classNames)\n    ? classNames.reduce(reducer, []).join(\" \")\n    : classNames;\nexport const isReactedBy = (userId: string, reaction: Reaction): boolean =>\n  reaction.userIds.some(\n    (reactorUserId: string): boolean => reactorUserId === userId\n  );\ninterface StringSet {\n  TOOLTIP__YOU: string;\n  TOOLTIP__AND_YOU: string;\n  TOOLTIP__UNKNOWN_USER: string;\n}\nexport const getEmojiTooltipString = (\n  reaction: Reaction,\n  userId: string,\n  memberNicknamesMap: Map<string, string>,\n  stringSet: StringSet\n): string => {\n  let you = \"\";\n  if (isReactedBy(userId, reaction)) {\n    you =\n      reaction.userIds.length === 1\n        ? stringSet.TOOLTIP__YOU\n        : stringSet.TOOLTIP__AND_YOU;\n  }\n  return `${reaction.userIds\n    .filter((reactorUserId: string) => reactorUserId !== userId)\n    .map(\n      (reactorUserId: string) =>\n        memberNicknamesMap.get(reactorUserId) || stringSet.TOOLTIP__UNKNOWN_USER\n    )\n    .join(\", \")}${you}`;\n};\n\n// TODO: Use the interface after language tranlsatation of Sendbird.js\ninterface UIKitStore {\n  stores: {\n    sdkStore: {\n      sdk: SendBirdInstance;\n    };\n    userStore: {\n      user: User;\n    };\n  };\n  config: {\n    useReaction: boolean;\n  };\n}\nexport const getCurrentUserId = (store: UIKitStore): string =>\n  store?.stores?.userStore?.user?.userId;\nexport const getUseReaction = (\n  store: UIKitStore,\n  channel: GroupChannel | OpenChannel\n): boolean => {\n  if (!store?.config?.useReaction) return false;\n  if (!store?.stores?.sdkStore?.sdk?.appInfo?.isUsingReaction) return false;\n  if (channel?.isGroupChannel())\n    return !(\n      (channel as GroupChannel).isBroadcast || (channel as GroupChannel).isSuper\n    );\n  return store?.config?.useReaction;\n};\n\nexport const isMessageSentByMe = (\n  userId: string,\n  message: UserMessage | FileMessage\n): boolean =>\n  userId && message?.sender?.userId && userId === message.sender.userId;\n\nexport const isMessageSentByOperator = (message: CoreMessageType): boolean =>\n  message?.isOperatorMessage || false;\n\nconst URL_REG = /[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/;\nexport const isUrl = (text: string): boolean => URL_REG.test(text);\n\nexport const truncateString = (fullStr: string, strLen?: number): string => {\n  if (!strLen) strLen = 40;\n  if (fullStr === null || fullStr === undefined) return \"\";\n  if (fullStr.length <= strLen) return fullStr;\n  const separator = \"...\";\n  const sepLen = separator.length;\n  const charsToShow = strLen - sepLen;\n  const frontChars = Math.ceil(charsToShow / 2);\n  const backChars = Math.floor(charsToShow / 2);\n  return (\n    fullStr.substr(0, frontChars) +\n    separator +\n    fullStr.substr(fullStr.length - backChars)\n  );\n};\n\nexport const copyToClipboard = (text: string): boolean => {\n  // @ts-ignore: Unreachable code error\n  if (window.clipboardData && window.clipboardData.setData) {\n    // Internet Explorer-specific code path to prevent textarea being shown while dialog is visible.\n    // @ts-ignore: Unreachable code error\n    return window.clipboardData.setData(\"Text\", text);\n  }\n  if (\n    document.queryCommandSupported &&\n    document.queryCommandSupported(\"copy\")\n  ) {\n    const textarea = document.createElement(\"textarea\");\n    textarea.textContent = text;\n    textarea.style.position = \"fixed\"; // Prevent scrolling to bottom of page in Microsoft Edge.\n    document.body.appendChild(textarea);\n    textarea.select();\n    try {\n      return document.execCommand(\"copy\"); // Security exception may be thrown by some browsers.\n    } catch (ex) {\n      return false;\n    } finally {\n      document.body.removeChild(textarea);\n    }\n  }\n  return false;\n};\n\nexport const getEmojiListAll = (emojiContainer: EmojiContainer): Array<Emoji> =>\n  emojiContainer.emojiCategories\n    .map((emojiCategory: EmojiCategory) => emojiCategory.emojis)\n    .reduce(\n      (prevArr: Array<Emoji>, currArr: Array<Emoji>) => prevArr.concat(currArr),\n      []\n    );\nexport const getEmojiMapAll = (\n  emojiContainer: EmojiContainer\n): Map<string, Emoji> => {\n  const emojiMap = new Map();\n  emojiContainer.emojiCategories.forEach((category: EmojiCategory) =>\n    category.emojis.forEach((emoji: Emoji): void => {\n      emojiMap.set(emoji.key, emoji);\n    })\n  );\n  return emojiMap;\n};\n\nexport const getUserName = (user: User): string =>\n  user?.friendName || user?.nickname || user?.userId;\nexport const getSenderName = (message: UserMessage | FileMessage): string =>\n  message.sender && getUserName(message.sender);\nexport const getMessageCreatedAt = (\n  message: UserMessage | FileMessage\n): string => format(message.createdAt || 0, \"HH:mm\");\n\nexport const hasSameMembers = <T>(a: T[], b: T[]): boolean => {\n  if (a === b) {\n    return true;\n  }\n  if (a == null || b == null) {\n    return false;\n  }\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  const sortedA = [...a].sort();\n  const sortedB = [...b].sort();\n\n  for (let i = 0; i < sortedA.length; ++i) {\n    if (sortedA[i] !== sortedB[i]) {\n      return false;\n    }\n  }\n  return true;\n};\nexport const isFriend = (user: User): boolean =>\n  !!(user.friendDiscoveryKey || user.friendName);\n\nexport const filterMessageListParams = (\n  params: MessageListParams,\n  message: UserMessage | FileMessage | AdminMessage\n): boolean => {\n  if (params?.messageType && params.messageType !== message.messageType) {\n    return false;\n  }\n  if (\n    params?.customTypes?.length > 0 &&\n    !params.customTypes.includes(message.customType)\n  ) {\n    return false;\n  }\n  if (params?.senderUserIds && params?.senderUserIds?.length > 0) {\n    if (message?.isUserMessage() || message.isFileMessage()) {\n      const messageSender =\n        (message as UserMessage | FileMessage).sender || message[\"_sender\"];\n      if (!params?.senderUserIds?.includes(messageSender?.userId)) {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n  return true;\n};\n\ninterface SDKChannelListParamsPrivateProps extends GroupChannelListQuery {\n  _searchFilter: {\n    search_query: string;\n    search_fields: Array<\"member_nickname\" | \"channel_name\">;\n  };\n  _userIdsFilter: {\n    userIds: Array<string>;\n    includeMode: boolean;\n    queryType: \"AND\" | \"OR\";\n  };\n}\nexport const filterChannelListParams = (\n  params: SDKChannelListParamsPrivateProps,\n  channel: GroupChannel,\n  currentUserId: string\n): boolean => {\n  if (\n    !params?.includeEmpty &&\n    channel?.lastMessage &&\n    channel.lastMessage === null\n  ) {\n    return false;\n  }\n  if (\n    params?._searchFilter?.search_query &&\n    params._searchFilter.search_fields?.length > 0\n  ) {\n    const searchFilter = params._searchFilter;\n    const searchQuery = searchFilter.search_query;\n    const searchFields = searchFilter.search_fields;\n    if (searchQuery && searchFields && searchFields.length > 0) {\n      if (\n        !searchFields.some((searchField) => {\n          switch (searchField) {\n            case \"channel_name\": {\n              return channel.name\n                .toLowerCase()\n                .includes(searchQuery.toLowerCase());\n            }\n            case \"member_nickname\": {\n              return channel.members.some((member: Member) =>\n                member.nickname\n                  .toLowerCase()\n                  .includes(searchQuery.toLowerCase())\n              );\n            }\n            default: {\n              return true;\n            }\n          }\n        })\n      ) {\n        return false;\n      }\n    }\n  }\n  if (params?._userIdsFilter?.userIds?.length > 0) {\n    const userIdsFilter = params._userIdsFilter;\n    const { includeMode, queryType } = userIdsFilter;\n    const userIds: string[] = userIdsFilter.userIds;\n    const memberIds = channel.members.map((member: Member) => member.userId);\n    if (!includeMode) {\n      // exact match\n      if (!userIds.includes(currentUserId)) {\n        userIds.push(currentUserId); // add the caller's userId if not added already.\n      }\n      if (channel.members.length > userIds.length) {\n        return false; // userIds may contain one or more non-member(s).\n      }\n      if (!hasSameMembers(userIds, memberIds)) {\n        return false;\n      }\n    } else if (userIds.length > 0) {\n      // inclusive\n      switch (queryType) {\n        case \"AND\": {\n          if (userIds.some((userId: string) => !memberIds.includes(userId))) {\n            return false;\n          }\n          break;\n        }\n        case \"OR\": {\n          if (userIds.every((userId: string) => !memberIds.includes(userId))) {\n            return false;\n          }\n          break;\n        }\n        default: {\n          break;\n        }\n      }\n    }\n  }\n  if (params?.includeEmpty === false && channel?.lastMessage === null) {\n    return false;\n  }\n  if (params?.includeFrozen === false && channel?.isFrozen === true) {\n    return false;\n  }\n  if (\n    params?.customTypesFilter?.length > 0 &&\n    !params.customTypesFilter.includes(channel?.customType)\n  ) {\n    return false;\n  }\n  if (\n    params?.customTypeStartsWithFilter &&\n    !new RegExp(`^${params.customTypeStartsWithFilter}`).test(\n      channel?.customType\n    )\n  ) {\n    return false;\n  }\n  if (\n    params?.channelNameContainsFilter &&\n    !channel?.name\n      ?.toLowerCase()\n      .includes(params.channelNameContainsFilter.toLowerCase())\n  ) {\n    return false;\n  }\n  if (params?.nicknameContainsFilter) {\n    const lowerCasedSubString = params.nicknameContainsFilter.toLowerCase();\n    if (\n      channel?.members?.every(\n        (member: Member) =>\n          !member.nickname.toLowerCase().includes(lowerCasedSubString)\n      )\n    ) {\n      return false;\n    }\n  }\n  if (\n    params?.channelUrlsFilter?.length > 0 &&\n    !params.channelUrlsFilter.includes(channel?.url)\n  ) {\n    return false;\n  }\n  if (params?.memberStateFilter) {\n    switch (params.memberStateFilter) {\n      case \"joined_only\":\n        if (channel?.myMemberState !== \"joined\") {\n          return false;\n        }\n        break;\n      case \"invited_only\":\n        if (channel?.myMemberState !== \"invited\") {\n          return false;\n        }\n        break;\n      case \"invited_by_friend\":\n        if (\n          channel?.myMemberState !== \"invited\" ||\n          !isFriend(channel.inviter)\n        ) {\n          return false;\n        }\n        break;\n      case \"invited_by_non_friend\":\n        if (channel?.myMemberState !== \"invited\" || isFriend(channel.inviter)) {\n          return false;\n        }\n        break;\n    }\n  }\n  if (params?.hiddenChannelFilter) {\n    switch (params.hiddenChannelFilter) {\n      case \"unhidden_only\":\n        if (channel?.isHidden || channel?.hiddenState !== \"unhidden\") {\n          return false;\n        }\n        break;\n      case \"hidden_only\":\n        if (!channel?.isHidden) {\n          return false;\n        }\n        break;\n      case \"hidden_allow_auto_unhide\":\n        if (\n          !channel?.isHidden ||\n          channel?.hiddenState !== \"hidden_allow_auto_unhide\"\n        ) {\n          return false;\n        }\n        break;\n      case \"hidden_prevent_auto_unhide\":\n        if (\n          !channel?.isHidden ||\n          channel?.hiddenState !== \"hidden_prevent_auto_unhide\"\n        ) {\n          return false;\n        }\n        break;\n    }\n  }\n  if (params?.unreadChannelFilter) {\n    switch (params.unreadChannelFilter) {\n      case \"unread_message\":\n        if (channel?.unreadMessageCount === 0) {\n          return false;\n        }\n        break;\n    }\n  }\n  if (params?.publicChannelFilter) {\n    switch (params.publicChannelFilter) {\n      case \"public\":\n        if (!channel?.isPublic) {\n          return false;\n        }\n        break;\n      case \"private\":\n        if (channel?.isPublic) {\n          return false;\n        }\n        break;\n    }\n  }\n  if (params?.superChannelFilter) {\n    switch (params.superChannelFilter) {\n      case \"super\":\n        if (!channel?.isSuper) {\n          return false;\n        }\n        break;\n      case \"nonsuper\":\n        if (channel?.isSuper) {\n          return false;\n        }\n        break;\n    }\n  }\n  return true;\n};\n\nexport const binarySearch = (list: Array<number>, number: number): number => {\n  // [100, 99, 98, 97, ...]\n  const pivot = Math.floor(list.length / 2);\n  if (list[pivot] === number) {\n    return pivot;\n  }\n  const leftList = list.slice(0, pivot);\n  const rightList = list.slice(pivot + 1, list.length);\n  if (list[pivot] > number) {\n    return (\n      pivot + 1 + (rightList.length === 0 ? 0 : binarySearch(rightList, number))\n    );\n  } else {\n    return leftList.length === 0 ? pivot : binarySearch(leftList, number);\n  }\n};\n// This is required when channel is displayed on channel list by filter\nexport const getChannelsWithUpsertedChannel = (\n  channels: Array<GroupChannel>,\n  channel: GroupChannel\n): Array<GroupChannel> => {\n  if (channels.some((ch: GroupChannel) => ch.url === channel.url)) {\n    return channels.map((ch: GroupChannel) =>\n      ch.url === channel.url ? channel : ch\n    );\n  }\n  const targetIndex = binarySearch(\n    channels.map(\n      (channel: GroupChannel) =>\n        channel?.lastMessage?.createdAt || channel?.createdAt\n    ),\n    channel?.lastMessage?.createdAt || channel?.createdAt\n  );\n  return [\n    ...channels.slice(0, targetIndex),\n    channel,\n    ...channels.slice(targetIndex, channels.length),\n  ];\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nconst IconButton = React.forwardRef((props, ref) => {\n  const {\n    className,\n    children,\n    disabled,\n    width,\n    height,\n    type,\n    onClick,\n    onBlur,\n    style,\n  } = props;\n\n  const [pressed, setPressed] = useState('');\n\n  return (\n    // eslint-disable-next-line react/button-has-type\n    <button\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-iconbutton',\n        pressed,\n      ].join(' ')}\n      disabled={disabled}\n      ref={ref}\n      type={type} // eslint-disable-line react/button-has-type\n      style={{\n        ...style,\n        height,\n        width,\n      }}\n      onClick={(e) => {\n        if (disabled) { return; }\n        setPressed('sendbird-iconbutton--pressed');\n        onClick(e);\n      }}\n      onBlur={(e) => {\n        setPressed('');\n        onBlur(e);\n      }}\n    >\n      <span className=\"sendbird-iconbutton__inner\">\n        {children}\n      </span>\n    </button>\n  );\n});\n\nIconButton.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.any,\n  ]).isRequired,\n  disabled: PropTypes.bool,\n  width: PropTypes.string,\n  height: PropTypes.string,\n  type: PropTypes.string,\n  onClick: PropTypes.func,\n  onBlur: PropTypes.func,\n  style: PropTypes.shape({}),\n};\n\nIconButton.defaultProps = {\n  className: '',\n  disabled: false,\n  width: '56px',\n  height: '56px',\n  type: 'button',\n  onClick: () => { },\n  onBlur: () => { },\n  style: {},\n};\n\nexport default IconButton;\n","// simple component to be used as modal root\nimport React from 'react';\n\nexport const MODAL_ROOT = 'sendbird-modal-root';\n\nexport default () => (\n  <div id={MODAL_ROOT} />\n);\n","export const Type = {\n  PRIMARY: 'PRIMARY',\n  SECONDARY: 'SECONDARY',\n  DANGER: 'DANGER',\n  DISABLED: 'DISABLED',\n};\n\nexport const Size = {\n  BIG: 'BIG',\n  SMALL: 'SMALL',\n};\n","import { Type, Size } from './type';\n\nexport function changeTypeToClassName(type) {\n  switch (type) {\n    case Type.PRIMARY: return 'sendbird-button--primary';\n    case Type.SECONDARY: return 'sendbird-button--secondary';\n    case Type.DANGER: return 'sendbird-button--danger';\n    case Type.DISABLED: return 'sendbird-button--disabled';\n    default: return null;\n  }\n}\n\nexport function changeSizeToClassName(size) {\n  switch (size) {\n    case Size.BIG: return 'sendbird-button--big';\n    case Size.SMALL: return 'sendbird-button--small';\n    default: return null;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { Type, Size } from './type';\nimport { changeTypeToClassName, changeSizeToClassName } from './utils';\n\nexport default function Button({\n  className,\n  type,\n  size,\n  children,\n  disabled,\n  onClick,\n}) {\n  const injectingClassNames = [\n    ...((Array.isArray(className)) ? className : [className]),\n    'sendbird-button',\n    (disabled ? 'sendbird-button__disabled' : ''),\n    changeTypeToClassName(type),\n    changeSizeToClassName(size),\n  ].join(' ');\n\n  return (\n    <button\n      className={injectingClassNames}\n      type=\"button\"\n      onClick={onClick}\n      disabled={disabled}\n    >\n      <Label\n        className=\"sendbird-button__text\"\n        type={LabelTypography.BUTTON_1}\n        color={LabelColors.ONCONTENT_1}\n      >\n        {children}\n      </Label>\n    </button>\n  );\n}\n\nexport const ButtonTypes = Type;\nexport const ButtonSizes = Size;\n\nButton.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  type: PropTypes.oneOf(Object.keys(Type)),\n  size: PropTypes.oneOf(Object.keys(Size)),\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]),\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nButton.defaultProps = {\n  className: '',\n  type: Type.PRIMARY,\n  size: Size.BIG,\n  children: 'Button',\n  disabled: false,\n  onClick: () => { },\n};\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nimport './index.scss';\n\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport { MODAL_ROOT } from '../../hooks/useModal/ModalRoot';\nimport IconButton from '../IconButton';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport Button, { ButtonTypes } from '../Button';\nimport Label, { LabelTypography, LabelColors } from '../Label';\n\nexport const ModalHeader = ({ titleText }) => (\n  <div className=\"sendbird-modal__header\">\n    <Label type={LabelTypography.H_1} color={LabelColors.ONBACKGROUND_1}>\n      {titleText}\n    </Label>\n  </div>\n);\nModalHeader.propTypes = {\n  titleText: PropTypes.string.isRequired,\n};\n\nexport const ModalBody = ({ children }) => (\n  <div className=\"sendbird-modal__body\">{children}</div>\n);\nModalBody.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element.isRequired,\n    PropTypes.arrayOf(PropTypes.element.isRequired),\n  ]),\n};\nModalBody.defaultProps = {\n  children: null,\n};\n\nexport const ModalFooter = ({\n  onSubmit,\n  onCancel,\n  disabled = false,\n  submitText,\n  type,\n}) => {\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird-modal__footer\">\n      <Button type={ButtonTypes.SECONDARY} onClick={onCancel}>\n        <Label type={LabelTypography.BUTTON_1} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.BUTTON__CANCEL}\n        </Label>\n      </Button>\n      <Button type={type} disabled={disabled} onClick={onSubmit}>\n        {submitText}\n      </Button>\n    </div>\n  );\n};\n\nModalFooter.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  submitText: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  type: PropTypes.string,\n};\nModalFooter.defaultProps = {\n  disabled: false,\n  type: ButtonTypes.DANGER,\n};\n\nfunction Modal(props) {\n  const {\n    children,\n    onCancel,\n    onSubmit,\n    disabled,\n    submitText,\n    titleText,\n    hideFooter,\n    type,\n  } = props;\n  return createPortal((\n    <div className=\"sendbird-modal\">\n      <div className=\"sendbird-modal__content\">\n        <ModalHeader titleText={titleText} />\n        <ModalBody>{children}</ModalBody>\n        {\n          !hideFooter && (\n            <ModalFooter\n              disabled={disabled}\n              onCancel={onCancel}\n              onSubmit={onSubmit}\n              submitText={submitText}\n              type={type}\n            />\n          )\n        }\n        <div className=\"sendbird-modal__close\">\n          <IconButton\n            width=\"32px\"\n            height=\"32px\"\n            onClick={onCancel}\n          >\n            <Icon\n              type={IconTypes.CLOSE}\n              fillColor={IconColors.DEFAULT}\n              width=\"24px\"\n              height=\"24px\"\n            />\n          </IconButton>\n        </div>\n      </div>\n      <div className=\"sendbird-modal__backdrop\" />\n    </div>\n  ), document.getElementById(MODAL_ROOT));\n}\n\nModal.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]),\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  hideFooter: PropTypes.bool,\n  disabled: PropTypes.bool,\n  type: PropTypes.string,\n};\nModal.defaultProps = {\n  children: null,\n  hideFooter: false,\n  disabled: false,\n  type: ButtonTypes.DANGER,\n};\n\nexport default Modal;\n","import './color.scss';\n\nexport const Colors = {\n  ONBACKGROUND_1: 'ONBACKGROUND_1',\n  ONBACKGROUND_2: 'ONBACKGROUND_2',\n  ONBACKGROUND_3: 'ONBACKGROUND_3',\n  ONBACKGROUND_4: 'ONBACKGROUND_4',\n  ONCONTENT_1: 'ONCONTENT_1',\n  PRIMARY: 'PRIMARY',\n  ERROR: 'ERROR',\n};\n\nexport function changeColorToClassName(color) {\n  switch (color) {\n    case Colors.ONBACKGROUND_1: return 'sendbird-color--onbackground-1';\n    case Colors.ONBACKGROUND_2: return 'sendbird-color--onbackground-2';\n    case Colors.ONBACKGROUND_3: return 'sendbird-color--onbackground-3';\n    case Colors.ONBACKGROUND_4: return 'sendbird-color--onbackground-4';\n    case Colors.ONCONTENT_1: return 'sendbird-color--oncontent-1';\n    case Colors.PRIMARY: return 'sendbird-color--primary';\n    case Colors.ERROR: return 'sendbird-color--error';\n    default: return null;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { changeColorToClassName, Colors } from '../../utils/color';\n\nexport default function TextButton({\n  className,\n  color,\n  disabled,\n  notUnderline,\n  onClick,\n  children,\n}) {\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        changeColorToClassName(color),\n        notUnderline ? 'sendbird-textbutton--not-underline' : 'sendbird-textbutton',\n        disabled ? 'sendbird-textbutton--disabled' : '',\n      ].join(' ')}\n      role=\"button\"\n      tabIndex={0}\n      onClick={onClick}\n      onKeyPress={onClick}\n    >\n      {children}\n    </div>\n  );\n}\n\nTextButton.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  color: PropTypes.string,\n  disabled: PropTypes.bool,\n  notUnderline: PropTypes.bool,\n  onClick: PropTypes.func,\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]).isRequired,\n};\n\nTextButton.defaultProps = {\n  className: '',\n  color: Colors.ONBACKGROUND_1,\n  disabled: false,\n  notUnderline: false,\n  onClick: () => { },\n};\n","export const USER_UPDATED = 'USER_UPDATED';\nexport const SEND_MESSAGE_START = 'SEND_MESSAGE_START';\nexport const SEND_USER_MESSAGE = 'SEND_USER_MESSAGE';\nexport const SEND_FILE_MESSAGE = 'SEND_FILE_MESSAGE';\nexport const UPDATE_USER_MESSAGE = 'UPDATE_USER_MESSAGE';\nexport const DELETE_MESSAGE = 'DELETE_MESSAGE';\nexport const LEAVE_CHANNEL = 'LEAVE_CHANNEL';\nexport const CREATE_CHANNEL = 'CREATE_CHANNEL';\n","import * as topics from './pubSub/topics';\n\nexport const getSdk = (store) => {\n  const { stores = {} } = store;\n  const { sdkStore = {} } = stores;\n  const { sdk } = sdkStore;\n  return sdk;\n};\n\nexport const getPubSub = (store) => {\n  const { config = {} } = store;\n  const { pubSub } = config;\n  return pubSub;\n};\n\n// SendBird disconnect. Invalidates currentUser\n// eslint-disable-next-line max-len\nexport const getConnect = (store) => (userId, accessToken) => new Promise((resolve, reject) => {\n  const sdk = getSdk(store);\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  if (!accessToken) {\n    sdk.connect(userId)\n      .then((res) => resolve(res))\n      .catch((err) => reject(err));\n  } else {\n    sdk.connect(userId, accessToken)\n      .then((res) => resolve(res))\n      .catch((err) => reject(err));\n  }\n});\n\n// SendBird disconnect. Invalidates currentUser\nexport const getDisconnect = (store) => () => new Promise((resolve, reject) => {\n  const sdk = getSdk(store);\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  sdk.disconnect()\n    .then((res) => resolve(res))\n    .catch((err) => reject(err));\n});\n\n// Using the updateCurrentUserInfo() method\n// you can update a user's nickname and profile image with a URL\n// eslint-disable-next-line max-len\nexport const getUpdateUserInfo = (store) => (nickName, profileUrl) => new Promise((resolve, reject) => {\n  const sdk = getSdk(store);\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  sdk.updateCurrentUserInfo(nickName, profileUrl)\n    .then((res) => resolve(res))\n    .catch((err) => reject(err));\n});\n\nexport const getSendUserMessage = (store) => (channelUrl, userMessageParams) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const promisify = () => {\n          let pendingMsg = null;\n          const pendingPromise = new Promise((resolve_, reject_) => {\n            pendingMsg = channel.sendUserMessage(userMessageParams, (res, err) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let message = res;\n              let error = err;\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n              if (error) {\n                reject_(error);\n                return;\n              }\n              resolve_(message);\n              pubsub.publish(\n                topics.SEND_USER_MESSAGE,\n                {\n                  message,\n                  channel,\n                },\n              );\n            });\n            pubsub.publish(\n              topics.SEND_MESSAGE_START,\n              {\n                message: pendingMsg,\n                channel,\n              },\n            );\n          });\n          pendingPromise.get = () => pendingMsg;\n          return pendingPromise;\n        };\n        resolve(promisify());\n      })\n      .catch(reject);\n  });\n};\nexport const getSendFileMessage = (store) => (channelUrl, fileMessageParams) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const promisify = () => {\n          let pendingMsg = null;\n          const pendingPromise = new Promise((resolve_, reject_) => {\n            pendingMsg = channel.sendFileMessage(fileMessageParams, (res, err) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let message = res;\n              let error = err;\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n\n              if (error) {\n                reject_(error);\n                return;\n              }\n              resolve_(message);\n              pubsub.publish(\n                topics.SEND_FILE_MESSAGE,\n                {\n                  message,\n                  channel,\n                },\n              );\n            });\n          });\n          if (fileMessageParams.file) {\n            // keep the file's local version in pendingMsg.localUrl\n            // because promise doesnt allow overriding of pendingMsg.url\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = URL.createObjectURL(fileMessageParams.file);\n          }\n          if (fileMessageParams.fileUrl) {\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = fileMessageParams.fileUrl;\n          }\n          // eslint-disable-next-line no-param-reassign\n          pendingMsg.requestState = 'pending';\n          pubsub.publish(\n            topics.SEND_MESSAGE_START,\n            {\n              message: pendingMsg,\n              channel,\n            },\n          );\n          pendingPromise.get = () => pendingMsg;\n          return pendingPromise;\n        };\n        resolve(promisify());\n      })\n      .catch(reject);\n  });\n};\nexport const getUpdateUserMessage = (store) => (channelUrl, messageId, params) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.updateUserMessage(messageId, params, (res, err) => {\n          const swapParams = sdk.getErrorFirstCallback();\n          let message = res;\n          let error = err;\n          if (swapParams) {\n            message = err;\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n          resolve(message);\n          pubsub.publish(\n            topics.UPDATE_USER_MESSAGE,\n            {\n              message,\n              channel,\n              // workaround for updating channelPreview on message-edit\n              // https://sendbird.atlassian.net/browse/UIKIT-268\n              fromSelector: true,\n            },\n          );\n        });\n      })\n      .catch(reject);\n  });\n};\nexport const getDeleteMessage = (store) => (channelUrl, message) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const { messageId } = message;\n        channel.deleteMessage(message, (res, err) => {\n          const swapParams = sdk.getErrorFirstCallback();\n          let error = err;\n          if (swapParams) {\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n          resolve(message);\n          pubsub.publish(\n            topics.DELETE_MESSAGE,\n            {\n              messageId,\n              channel,\n            },\n          );\n        });\n      })\n      .catch(reject);\n  });\n};\n\nexport const getResendUserMessage = (store) => (channelUrl, failedMessage) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.resendUserMessage(failedMessage)\n          .then((message) => {\n            resolve(message);\n            pubsub.publish(\n              topics.SEND_USER_MESSAGE,\n              {\n                message,\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getResendFileMessage = (store) => (channelUrl, failedMessage) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.resendFileMessage(failedMessage)\n          .then((message) => {\n            resolve(message);\n            pubsub.publish(\n              topics.SEND_FILE_MESSAGE,\n              {\n                message,\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getCreateChannel = (store) => (params) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.createChannel(params)\n      .then((channel) => {\n        resolve(channel);\n        pubsub.publish(\n          topics.CREATE_CHANNEL,\n          {\n            channel,\n          },\n        );\n      })\n      .catch(reject);\n  });\n};\n\nexport const getLeaveChannel = (store) => (channelUrl) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.leave()\n          .then(() => {\n            resolve(channel);\n            pubsub.publish(\n              topics.LEAVE_CHANNEL,\n              {\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getFreezeChannel = (store) => (channelUrl) => {\n  const sdk = getSdk(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.freeze()\n          .then(() => {\n            // do not need pubsub here - event listener works\n            resolve(channel);\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getUnFreezeChannel = (store) => (channelUrl) => {\n  const sdk = getSdk(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.unfreeze()\n          .then(() => {\n            // do not need pubsub here - event listener works\n            resolve(channel);\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getCreateOpenChannel = (store) => (params) => {\n  const sdk = getSdk(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.createChannel(params)\n      .then((channel) => {\n        resolve(channel);\n      })\n      .catch(reject);\n  });\n};\nexport const enterOpenChannel = (store) => (channelUrl) => {\n  const sdk = getSdk(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl, (openChannel, error) => {\n      if (error) {\n        reject(new Error(error));\n        return;\n      }\n\n      openChannel.enter((response, enterError) => {\n        if (error) {\n          reject(new Error(enterError));\n          return;\n        }\n        resolve(response);\n      });\n    });\n  });\n};\n\nexport const exitOpenChannel = (store) => (channelUrl) => {\n  const sdk = getSdk(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl, (openChannel, error) => {\n      if (error) {\n        reject(new Error(error));\n        return;\n      }\n\n      openChannel.exit((response, exitError) => {\n        if (error) {\n          reject(new Error(exitError));\n          return;\n        }\n        resolve(response);\n      });\n    });\n  });\n};\n\nexport const getOpenChannelSendUserMessage = (store) => (channelUrl, userMessageParams) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const promisify = () => {\n          let pendingMsg = null;\n          const pendingPromise = new Promise((resolve_, reject_) => {\n            pendingMsg = channel.sendUserMessage(userMessageParams, (res, err) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let message = res;\n              let error = err;\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n              if (error) {\n                reject_(error);\n                return;\n              }\n              resolve_(message);\n              pubsub.publish(\n                topics.SEND_USER_MESSAGE,\n                {\n                  message,\n                  channel,\n                },\n              );\n            });\n            pubsub.publish(\n              topics.SEND_MESSAGE_START,\n              {\n                message: pendingMsg,\n                channel,\n              },\n            );\n          });\n          pendingPromise.get = () => pendingMsg;\n          return pendingPromise;\n        };\n        resolve(promisify());\n      })\n      .catch(reject);\n  });\n};\n\nexport const getOpenChannelSendFileMessage = (store) => (channelUrl, fileMessageParams) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const promisify = () => {\n          let pendingMsg = null;\n          const pendingPromise = new Promise((resolve_, reject_) => {\n            pendingMsg = channel.sendFileMessage(fileMessageParams, (res, err) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let message = res;\n              let error = err;\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n\n              if (error) {\n                reject_(error);\n                return;\n              }\n              resolve_(message);\n              pubsub.publish(\n                topics.SEND_FILE_MESSAGE,\n                {\n                  message,\n                  channel,\n                },\n              );\n            });\n          });\n          if (fileMessageParams.file) {\n            // keep the file's local version in pendingMsg.localUrl\n            // because promise doesnt allow overriding of pendingMsg.url\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = URL.createObjectURL(fileMessageParams.file);\n          }\n          if (fileMessageParams.fileUrl) {\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = fileMessageParams.fileUrl;\n          }\n          // eslint-disable-next-line no-param-reassign\n          pendingMsg.requestState = 'pending';\n          pubsub.publish(\n            topics.SEND_MESSAGE_START,\n            {\n              message: pendingMsg,\n              channel,\n            },\n          );\n          pendingPromise.get = () => pendingMsg;\n          return pendingPromise;\n        };\n        resolve(promisify());\n      })\n      .catch(reject);\n  });\n};\n\nexport const getOpenChannelUpdateUserMessage = (store) => (channelUrl, messageId, params) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.updateUserMessage(messageId, params, (res, err) => {\n          const swapParams = sdk.getErrorFirstCallback();\n          let message = res;\n          let error = err;\n          if (swapParams) {\n            message = err;\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n          resolve(message);\n          pubsub.publish(\n            topics.UPDATE_USER_MESSAGE,\n            {\n              message,\n              channel,\n              // workaround for updating channelPreview on message-edit\n              // https://sendbird.atlassian.net/browse/UIKIT-268\n              fromSelector: true,\n            },\n          );\n        });\n      })\n      .catch(reject);\n  });\n};\n\nexport const getOpenChannelDeleteMessage = (store) => (channelUrl, message) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const { messageId } = message;\n        channel.deleteMessage(message, (res, err) => {\n          const swapParams = sdk.getErrorFirstCallback();\n          let error = err;\n          if (swapParams) {\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n          resolve(message);\n          pubsub.publish(\n            topics.DELETE_MESSAGE,\n            {\n              messageId,\n              channel,\n            },\n          );\n        });\n      })\n      .catch(reject);\n  });\n};\n\nexport const getOpenChannelResendUserMessage = (store) => (channelUrl, failedMessage) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.resendUserMessage(failedMessage)\n          .then((message) => {\n            resolve(message);\n            pubsub.publish(\n              topics.SEND_USER_MESSAGE,\n              {\n                message,\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getOpenChannelResendFileMessage = (store) => (channelUrl, failedMessage) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.resendFileMessage(failedMessage)\n          .then((message) => {\n            resolve(message);\n            pubsub.publish(\n              topics.SEND_FILE_MESSAGE,\n              {\n                message,\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport default {\n  getSdk,\n  getConnect,\n  getDisconnect,\n  getUpdateUserInfo,\n  getSendUserMessage,\n  getSendFileMessage,\n  getUpdateUserMessage,\n  getDeleteMessage,\n  getResendUserMessage,\n  getResendFileMessage,\n  getFreezeChannel,\n  getUnFreezeChannel,\n  getCreateChannel,\n  getLeaveChannel,\n  getCreateOpenChannel,\n  getEnterOpenChannel: enterOpenChannel,\n  getExitOpenChannel: exitOpenChannel,\n  getOpenChannelSendUserMessage,\n  getOpenChannelSendFileMessage,\n  getOpenChannelUpdateUserMessage,\n  getOpenChannelDeleteMessage,\n  getOpenChannelResendUserMessage,\n  getOpenChannelResendFileMessage,\n};\n","import React, { ReactElement, useContext } from 'react';\nimport { SendbirdTypes } from '../../types';\nimport './index.scss';\n\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\nimport { getSdk, getCreateChannel } from '../../lib/selectors';\nimport Avatar from '../Avatar/index';\nimport Label, { LabelColors, LabelTypography } from '../Label';\nimport Button, { ButtonTypes } from '../Button';\n\ninterface Logger {\n  info?(message: string, channel: SendbirdTypes['GroupChannel']): void;\n}\n\ninterface Props {\n  user: SendbirdTypes['User'];\n  currentUserId?: string;\n  sdk?: SendbirdTypes['SendBirdInstance'];\n  logger?: Logger;\n  disableMessaging?: boolean;\n  createChannel?(params: SendbirdTypes['GroupChannelParams']): Promise<SendbirdTypes['GroupChannel']>;\n  onSuccess?(): void;\n}\n\nfunction UserProfile({\n  user,\n  currentUserId,\n  sdk,\n  logger,\n  disableMessaging = false,\n  createChannel,\n  onSuccess,\n}: Props): ReactElement {\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird__user-profile\">\n      <section className=\"sendbird__user-profile-avatar\">\n        <Avatar\n          height=\"80px\"\n          width=\"80px\"\n          src={user.profileUrl}\n        />\n      </section>\n      <section className=\"sendbird__user-profile-name\">\n        <Label\n          type={LabelTypography.H_2}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {user.nickname || stringSet.NO_NAME}\n        </Label>\n      </section>\n      {\n        (user.userId !== currentUserId) && !disableMessaging && (\n          <section className=\"sendbird__user-profile-message\">\n            <Button\n              type={ButtonTypes.SECONDARY}\n              onClick={() => {\n                const params = new sdk.GroupChannelParams();\n                params.isDistinct = true;\n                params.addUserIds([user.userId]);\n                onSuccess();\n                createChannel(params)\n                  .then((groupChannel) => {\n                    logger.info('UserProfile, channel create', groupChannel);\n                  });\n              }}\n            >\n              {stringSet.USER_PROFILE__MESSAGE}\n            </Button>\n          </section>\n        )\n      }\n      <div className=\"sendbird__user-profile-separator\" />\n      <section className=\"sendbird__user-profile-userId\">\n        <Label\n          className=\"sendbird__user-profile-userId--label\"\n          type={LabelTypography.CAPTION_2}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {stringSet.USER_PROFILE__USER_ID}\n        </Label>\n        <Label\n          className=\"sendbird__user-profile-userId--value\"\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {user.userId}\n        </Label>\n      </section>\n    </div>\n  );\n}\n\nconst mapStoreToProps = (store) => ({\n  sdk: getSdk(store),\n  createChannel: getCreateChannel(store),\n  logger: store.config.logger,\n  pubsub: store.config.pubSub,\n});\n\nconst ConnectedUserProfile = withSendbirdContext(UserProfile, mapStoreToProps);\n\nexport default ConnectedUserProfile;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nexport default class MenuItems extends Component {\n  constructor(props) {\n    super(props);\n    this.menuRef = React.createRef();\n    this.state = {\n      menuStyle: {},\n      handleClickOutside: () => { },\n    };\n  }\n\n  componentDidMount() {\n    this.setupEvents();\n    this.getMenuPosition();\n    this.showParent();\n  }\n\n  componentWillUnmount() {\n    this.cleanUpEvents();\n    this.hideParent();\n  }\n\n  showParent = () => {\n    const { parentContainRef = {} } = this.props;\n    const { current } = parentContainRef;\n    if (parentContainRef && current) {\n      current.classList.add('sendbird-icon--pressed');\n    }\n  }\n\n  hideParent = () => {\n    const { parentContainRef = {} } = this.props;\n    const { current } = parentContainRef;\n    if (parentContainRef && current) {\n      current.classList.remove('sendbird-icon--pressed');\n    }\n  }\n\n  setupEvents = () => {\n    const { closeDropdown } = this.props;\n    const { menuRef } = this;\n    const handleClickOutside = (event) => {\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\n        closeDropdown();\n      }\n    };\n    this.setState({\n      handleClickOutside,\n    });\n\n    document.addEventListener('mousedown', handleClickOutside);\n  }\n\n  cleanUpEvents = () => {\n    const {\n      handleClickOutside,\n    } = this.state;\n    document.removeEventListener('mousedown', handleClickOutside);\n  }\n\n  getMenuPosition = () => {\n    const { parentRef, openLeft } = this.props;\n    const parentRect = parentRef.current.getBoundingClientRect();\n    const x = parentRect.x || parentRect.left;\n    const y = parentRect.y || parentRect.top;\n    const menuStyle = {\n      top: y,\n      left: x,\n    };\n\n    if (!this.menuRef.current) return menuStyle;\n\n    const { innerWidth, innerHeight } = window;\n    const rect = this.menuRef.current.getBoundingClientRect();\n    if (y + rect.height > innerHeight) {\n      menuStyle.top -= rect.height;\n    }\n\n    if (x + rect.width > innerWidth && !openLeft) {\n      menuStyle.left -= rect.width;\n    }\n\n    if (menuStyle.top < 0) {\n      menuStyle.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n    }\n\n    if (menuStyle.left < 0) {\n      menuStyle.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n    }\n\n    menuStyle.top += 32;\n    if (openLeft) {\n      const padding = Number.isNaN(rect.width - 30)\n        ? 108 // default\n        : rect.width - 30;\n      menuStyle.left -= padding;\n    }\n\n    return this.setState({ menuStyle });\n  }\n\n  render() {\n    const { menuStyle } = this.state;\n    const { children, style } = this.props;\n    return (\n      createPortal(\n        (\n          <>\n            <div className=\"sendbird-dropdown__menu-backdrop\" />\n            <ul\n              className=\"sendbird-dropdown__menu\"\n              ref={this.menuRef}\n              style={{\n                display: 'inline-block',\n                position: 'fixed',\n                left: `${Math.round(menuStyle.left)}px`,\n                top: `${Math.round(menuStyle.top)}px`,\n                ...style,\n              }}\n            >\n              {children}\n            </ul>\n          </>\n        ),\n        document.getElementById('sendbird-dropdown-portal'),\n      )\n    );\n  }\n}\nMenuItems.propTypes = {\n  closeDropdown: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]).isRequired,\n  style: PropTypes.shape({}),\n  // https://stackoverflow.com/a/51127130\n  parentRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) }),\n  ]).isRequired,\n  parentContainRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) }),\n  ]).isRequired,\n  openLeft: PropTypes.bool,\n};\nMenuItems.defaultProps = {\n  style: {},\n  openLeft: false,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nconst componentClassName = 'sendbird-sort-by-row';\nexport default function SortByRow({\n  className,\n  maxItemCount,\n  itemWidth,\n  itemHeight,\n  children,\n}) {\n  if (children.length > maxItemCount) {\n    const result = [];\n\n    for (let i = 0; i < children.length; i += maxItemCount) {\n      result.push(\n        <div\n          className={[\n            ...(Array.isArray(className) ? className : [className]),\n            componentClassName,\n          ].join(' ')}\n          key={className + i}\n          style={{\n            width: itemWidth * maxItemCount,\n            height: itemHeight,\n          }}\n        >\n          {\n            children.slice(i, i + maxItemCount)\n          }\n        </div>,\n      );\n    }\n    return result;\n  }\n\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        componentClassName,\n      ].join(' ')}\n      style={{\n        width: itemWidth * children.length,\n        height: itemHeight,\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\nSortByRow.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  maxItemCount: PropTypes.number.isRequired,\n  itemWidth: PropTypes.number.isRequired,\n  itemHeight: PropTypes.number.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]).isRequired,\n};\n\nSortByRow.defaultProps = {\n  className: '',\n};\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport SortByRow from '../../SortByRow';\n\nexport default class EmojiListItems extends Component {\n  constructor(props) {\n    super(props);\n    this.reactionRef = React.createRef();\n    this.state = {\n      reactionStyle: {},\n      handleClickOutside: () => { },\n    };\n  }\n\n  componentDidMount() {\n    this.setupEvents();\n    this.getBarPosition();\n    this.showParent();\n  }\n\n  componentWillUnmount() {\n    this.cleanUpEvents();\n    this.hideParent();\n  }\n\n  showParent = () => {\n    const { parentContainRef = {} } = this.props;\n    const { current } = parentContainRef;\n    if (parentContainRef && current) {\n      current.classList.add('sendbird-reactions--pressed');\n    }\n  }\n\n  hideParent = () => {\n    const { parentContainRef = {} } = this.props;\n    const { current } = parentContainRef;\n    if (parentContainRef && current) {\n      current.classList.remove('sendbird-reactions--pressed');\n    }\n  }\n\n  setupEvents = () => {\n    const { closeDropdown } = this.props;\n    const { reactionRef } = this;\n    const handleClickOutside = (event) => {\n      if (reactionRef.current && !reactionRef.current.contains(event.target)) {\n        closeDropdown();\n      }\n    };\n    this.setState({\n      handleClickOutside,\n    });\n    document.addEventListener('mousedown', handleClickOutside);\n  }\n\n  cleanUpEvents = () => {\n    const {\n      handleClickOutside,\n    } = this.state;\n    document.removeEventListener('mousedown', handleClickOutside);\n  }\n\n  getBarPosition = () => {\n    // calculate the location that the context menu should be\n    const {\n      parentRef,\n      spaceFromTrigger,\n    } = this.props;\n    const spaceFromTriggerX = spaceFromTrigger.x || 0;\n    const spaceFromTriggerY = spaceFromTrigger.y || 0;\n\n    const parentRect = parentRef.current.getBoundingClientRect();\n\n    const x = parentRect.x || parentRect.left;\n    const y = parentRect.y || parentRect.top;\n\n    const reactionStyle = {\n      top: y,\n      left: x,\n    };\n\n    if (!this.reactionRef.current) return reactionStyle;\n    const rect = this.reactionRef.current.getBoundingClientRect();\n\n    if (reactionStyle.top < rect.height) {\n      reactionStyle.top += parentRect.height;\n      reactionStyle.top += spaceFromTriggerY;\n    } else {\n      reactionStyle.top -= rect.height;\n      reactionStyle.top -= spaceFromTriggerY;\n    }\n\n    reactionStyle.left -= (rect.width / 2);\n    reactionStyle.left += (parentRect.height / 2) - 2;\n    reactionStyle.left += spaceFromTriggerX;\n\n    const maximumLeft = (window.innerWidth - rect.width);\n    if (maximumLeft < reactionStyle.left) {\n      reactionStyle.left = maximumLeft;\n    }\n    if (reactionStyle.left < 0) {\n      reactionStyle.left = 0;\n    }\n\n    return this.setState({ reactionStyle });\n  }\n\n  render() {\n    const { reactionStyle } = this.state;\n    const { children } = this.props;\n    return (\n      createPortal(\n        <>\n          <div className=\"sendbird-dropdown__menu-backdrop\" />\n          <ul\n            className=\"sendbird-dropdown__reaction-bar\"\n            ref={this.reactionRef}\n            style={{\n              display: 'inline-block',\n              position: 'fixed',\n              left: `${Math.round(reactionStyle.left)}px`,\n              top: `${Math.round(reactionStyle.top)}px`,\n            }}\n          >\n            <SortByRow\n              className=\"sendbird-dropdown__reaction-bar__row\"\n              maxItemCount={8}\n              itemWidth={44}\n              itemHeight={40}\n            >\n              {children}\n            </SortByRow>\n          </ul>\n        </>,\n        document.getElementById('sendbird-emoji-list-portal'),\n      )\n    );\n  }\n}\nEmojiListItems.propTypes = {\n  closeDropdown: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]).isRequired,\n  parentRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) }),\n  ]).isRequired,\n  parentContainRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) }),\n  ]).isRequired,\n  spaceFromTrigger: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number,\n  }),\n};\nEmojiListItems.defaultProps = {\n  spaceFromTrigger: {},\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { getClassName } from '../../utils';\n\nimport MenuItems_ from './items/MenuItems';\nimport EmojiListItems_ from './items/EmojiListItems';\n\nconst ENTER = 13;\n\nexport const MenuItems = MenuItems_;\nexport const EmojiListItems = EmojiListItems_;\n\nexport const MenuItem = ({\n  className,\n  children,\n  onClick,\n  disable,\n}) => {\n  const handleClickEvent = (e) => { if (!disable) onClick(e); };\n  return (\n    <li\n      className={getClassName([className, 'sendbird-dropdown__menu-item', disable ? 'disable' : ''])}\n      role=\"menuitem\"\n      onClick={handleClickEvent}\n      onKeyPress={(e) => { if (e.keyCode === ENTER) handleClickEvent(e); }}\n      tabIndex={0}\n    >\n      <Label\n        className=\"sendbird-dropdown__menu-item__text\"\n        type={LabelTypography.SUBTITLE_2}\n        color={disable ? LabelColors.ONBACKGROUND_4 : LabelColors.ONBACKGROUND_1}\n      >\n        {children}\n      </Label>\n    </li>\n  );\n};\n\nMenuItem.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]).isRequired,\n  onClick: PropTypes.func.isRequired,\n  disable: PropTypes.func,\n};\n\nMenuItem.defaultProps = {\n  className: '',\n  disable: false,\n};\n\n// Root components should be appended before ContextMenu is rendered\nexport const MenuRoot = () => (\n  <div id=\"sendbird-dropdown-portal\" />\n);\nexport const EmojiReactionListRoot = () => (\n  <div id=\"sendbird-emoji-list-portal\" />\n);\n\nexport default function ContextMenu({ menuTrigger, menuItems }) {\n  const [showMenu, setShowMenu] = useState(false);\n\n  return (\n    <div className=\"sendbird-context-menu\" style={{ display: 'inline' }}>\n      {menuTrigger(() => setShowMenu(!showMenu))}\n      {showMenu && menuItems(() => setShowMenu(false))}\n    </div>\n  );\n}\n\nContextMenu.propTypes = {\n  menuTrigger: PropTypes.func.isRequired,\n  menuItems: PropTypes.func.isRequired,\n};\n"],"names":["UserProfileContext","React","createContext","disableUserProfile","isOpenChannel","renderUserProfile","UserProfileProvider","props","children","className","propTypes","PropTypes","oneOfType","element","arrayOf","any","isRequired","bool","func","string","defaultProps","isAssignmentMessage","customType","isMaterialMessage","convertCtaLinkToWebLink","cta","listOfSerials","split","workspaceSerial","classroomSerial","serial","type_","url","convertAssignmentDueUTCtoLocale","dueAt","localeDate","Date","toLocaleString","META_ARRAY_VALUE_MAX_CHAR","REPLIED_MESSAGE_MAX_CHAR","REPLIED_MESSAGE_QUOTE_FORMAT","REGEX_LINE_BREAK","REGEX_URL","RepliedMessageType","REPLIED_MESSAGE_TYPE","Assignment","File","Image","Material","Text","Video","formatedStringToRepliedMessage","message","repliedMessage","filter","word","isQuoteFormat","map","substr","parentMessageNickname","rest","parentMessageBody","join","originalMessage","parentMessageId","parentMessageType","parentMessageCreatedAt","repliedMessageToFormatedString","_a","charAt","stringToMetaArrayValue","str","metaArrayValue","end","i","length","push","substring","repliedMessageToMetaArrays","sdk","metaArrays","Object","entries","forEach","key","value","MessageMetaArray","String","metaArraysToRepliedMessage","reduce","meta","parentMessageMediaUrl","parentMessageMimeType","normalizeRepliedMessageBody","messageBody","replace","SUPPORTED_MIMES","IMAGE","VIDEO","AUDIO","UIKitMessageTypes","ADMIN","TEXT","FILE","THUMBNAIL","OG","UNKNOWN","UIKitFileTypes","GIF","OTHERS","SendingMessageStatus","NONE","SUCCEEDED","FAILED","PENDING","OutgoingMessageStates","SENT","DELIVERED","READ","isImage","type","indexOf","isVideo","isGif","isSupportedFileView","isAudio","getUIKitFileType","getOutgoingMessageStates","getOutgoingMessageState","channel","sendingStatus","isGroupChannel","getUnreadMemberCount","getUndeliveredMemberCount","isSentMessage","isFailedMessage","isPendingMessage","isSentStatus","state","isAdminMessage","messageType","isUserMessage","isFileMessage","isOGMessage","ogMetaData","isTextMessage","isThumbnailMessage","isVideoMessage","isGifMessage","isEditedMessage","updatedAt","getUIKitMessageTypes","getUIKitMessageType","getSendingMessageStatus","reducer","accumulator","currentValue","Array","isArray","getClassName","classNames","isReactedBy","userId","reaction","userIds","some","reactorUserId","getEmojiTooltipString","memberNicknamesMap","stringSet","you","TOOLTIP__YOU","TOOLTIP__AND_YOU","get","TOOLTIP__UNKNOWN_USER","isMessageSentByMe","sender","isMessageSentByOperator","isOperatorMessage","URL_REG","isUrl","text","test","truncateString","fullStr","strLen","undefined","separator","sepLen","charsToShow","frontChars","Math","ceil","backChars","floor","copyToClipboard","window","clipboardData","setData","document","queryCommandSupported","textarea","createElement","textContent","style","position","body","appendChild","select","execCommand","ex","removeChild","getEmojiListAll","emojiContainer","emojiCategories","emojiCategory","emojis","prevArr","currArr","concat","getEmojiMapAll","emojiMap","Map","category","emoji","set","getUserName","user","friendName","nickname","getSenderName","getMessageCreatedAt","format","createdAt","hasSameMembers","a","b","sortedA","__spreadArray","sort","sortedB","isFriend","friendDiscoveryKey","filterMessageListParams","params","customTypes","includes","senderUserIds","messageSender","filterChannelListParams","currentUserId","includeEmpty","lastMessage","_searchFilter","search_query","search_fields","searchFilter","searchQuery_1","searchFields","searchField","name","toLowerCase","members","member","_userIdsFilter","userIdsFilter","includeMode","queryType","memberIds_1","every","includeFrozen","isFrozen","customTypesFilter","customTypeStartsWithFilter","RegExp","channelNameContainsFilter","nicknameContainsFilter","lowerCasedSubString_1","channelUrlsFilter","memberStateFilter","myMemberState","inviter","hiddenChannelFilter","isHidden","hiddenState","unreadChannelFilter","unreadMessageCount","publicChannelFilter","isPublic","superChannelFilter","isSuper","binarySearch","list","number","pivot","leftList","slice","rightList","getChannelsWithUpsertedChannel","channels","ch","targetIndex","IconButton","forwardRef","ref","disabled","width","height","onClick","onBlur","useState","pressed","setPressed","e","shape","MODAL_ROOT","Type","PRIMARY","SECONDARY","DANGER","DISABLED","Size","BIG","SMALL","changeTypeToClassName","changeSizeToClassName","size","Button","injectingClassNames","Label","LabelTypography","BUTTON_1","LabelColors","ONCONTENT_1","ButtonTypes","ButtonSizes","oneOf","keys","ModalHeader","titleText","H_1","ONBACKGROUND_1","ModalBody","ModalFooter","onSubmit","onCancel","submitText","useContext","LocalizationContext","BUTTON__CANCEL","Modal","hideFooter","createPortal","Icon","IconTypes","CLOSE","IconColors","DEFAULT","getElementById","Colors","ONBACKGROUND_2","ONBACKGROUND_3","ONBACKGROUND_4","ERROR","changeColorToClassName","color","TextButton","notUnderline","SEND_MESSAGE_START","SEND_USER_MESSAGE","SEND_FILE_MESSAGE","UPDATE_USER_MESSAGE","DELETE_MESSAGE","LEAVE_CHANNEL","CREATE_CHANNEL","getSdk","store","stores","sdkStore","getPubSub","config","pubSub","getConnect","accessToken","Promise","resolve","reject","Error","connect","then","res","catch","err","getDisconnect","disconnect","getUpdateUserInfo","nickName","profileUrl","updateCurrentUserInfo","getSendUserMessage","channelUrl","userMessageParams","pubsub","GroupChannel","getChannel","promisify","pendingMsg","pendingPromise","resolve_","reject_","sendUserMessage","swapParams","getErrorFirstCallback","error","publish","topics","getSendFileMessage","fileMessageParams","sendFileMessage","file","localUrl","URL","createObjectURL","fileUrl","requestState","getUpdateUserMessage","messageId","updateUserMessage","fromSelector","getDeleteMessage","deleteMessage","getResendUserMessage","failedMessage","resendUserMessage","getResendFileMessage","resendFileMessage","getCreateChannel","createChannel","getLeaveChannel","leave","getFreezeChannel","freeze","getUnFreezeChannel","unfreeze","getCreateOpenChannel","OpenChannel","enterOpenChannel","openChannel","enter","response","enterError","exitOpenChannel","exit","exitError","getOpenChannelSendUserMessage","getOpenChannelSendFileMessage","getOpenChannelUpdateUserMessage","getOpenChannelDeleteMessage","getOpenChannelResendUserMessage","getOpenChannelResendFileMessage","getEnterOpenChannel","getExitOpenChannel","UserProfile","logger","_b","disableMessaging","onSuccess","Avatar","H_2","NO_NAME","GroupChannelParams","isDistinct","addUserIds","groupChannel","info","USER_PROFILE__MESSAGE","CAPTION_2","USER_PROFILE__USER_ID","BODY_1","mapStoreToProps","ConnectedUserProfile","withSendbirdContext","MenuItems","parentContainRef","current","classList","add","remove","closeDropdown","menuRef","handleClickOutside","event","contains","target","setState","addEventListener","removeEventListener","parentRef","openLeft","parentRect","getBoundingClientRect","x","left","y","top","menuStyle","innerWidth","innerHeight","rect","padding","Number","isNaN","createRef","setupEvents","getMenuPosition","showParent","cleanUpEvents","hideParent","display","round","Component","instanceOf","Element","componentClassName","SortByRow","maxItemCount","itemWidth","itemHeight","result","EmojiListItems","reactionRef","spaceFromTrigger","spaceFromTriggerX","spaceFromTriggerY","reactionStyle","maximumLeft","getBarPosition","ENTER","MenuItems_","EmojiListItems_","MenuItem","disable","handleClickEvent","keyCode","SUBTITLE_2","ContextMenu","menuTrigger","menuItems","showMenu","setShowMenu"],"mappings":";;;;;;;;;;;;;;AAGA;AACA;AACA;AACA;;IACMA,kBAAkB,gBAAGC,yBAAK,CAACC,aAAN,CAAoB;AAC7CC,EAAAA,kBAAkB,EAAE,IADyB;AAE7CC,EAAAA,aAAa,EAAE,KAF8B;AAG7CC,EAAAA,iBAAiB,EAAE;AAH0B,CAApB;;IAMrBC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,KAAD,EAAW;AACrC,MAAQC,QAAR,GAAgCD,KAAhC,CAAQC,QAAR;AAAA,MAAkBC,SAAlB,GAAgCF,KAAhC,CAAkBE,SAAlB;AACA,sBACER,wCAAC,kBAAD,CAAoB,QAApB;AAA6B,IAAA,KAAK,EAAEM;AAApC,kBACEN;AAAK,IAAA,SAAS,EAAEQ;AAAhB,KACGD,QADH,CADF,CADF;AAOD;;AAEDF,mBAAmB,CAACI,SAApB,GAAgC;AAC9BF,EAAAA,QAAQ,EAAEG,6BAAS,CAACC,SAAV,CAAoB,CAC5BD,6BAAS,CAACE,OADkB,EAE5BF,6BAAS,CAACG,OAAV,CAAkBH,6BAAS,CAACE,OAA5B,CAF4B,EAG5BF,6BAAS,CAACI,GAHkB,CAApB,EAIPC,UAL2B;AAM9B;AACAZ,EAAAA,aAAa,EAAEO,6BAAS,CAACM,IAPK;AAQ9B;AACAd,EAAAA,kBAAkB,EAAEQ,6BAAS,CAACM,IATA;AAU9B;AACAZ,EAAAA,iBAAiB,EAAEM,6BAAS,CAACO,IAXC;AAY9BT,EAAAA,SAAS,EAAEE,6BAAS,CAACQ;AAZS,CAAhC;AAeAb,mBAAmB,CAACc,YAApB,GAAmC;AACjCX,EAAAA,SAAS,EAAE,IADsB;AAEjCL,EAAAA,aAAa,EAAE,KAFkB;AAGjCD,EAAAA,kBAAkB,EAAE,KAHa;AAIjCE,EAAAA,iBAAiB,EAAE;AAJc,CAAnC;;ICvCagB,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,UAAD;AACjC,SAAAA,UAAU,KAAK,YAAf;AAA2B;IAEhBC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACD,UAAD;AAC/B,SAAAA,UAAU,KAAK,UAAf;AAAyB;IAEdE,uBAAuB,GAAG,SAA1BA,uBAA0B,CACrCC,GADqC,EAErCH,UAFqC;AAIrC,MAAMI,aAAa,GAAGD,GAAG,CAACE,KAAJ,CAAU,GAAV,CAAtB;AACA,MAAMC,eAAe,GAAGF,aAAa,CAAC,CAAD,CAAb,CAAiBC,KAAjB,CAAuB,GAAvB,EAA4B,CAA5B,CAAxB;AACA,MAAME,eAAe,GAAGH,aAAa,CAAC,CAAD,CAAb,CAAiBC,KAAjB,CAAuB,GAAvB,EAA4B,CAA5B,CAAxB;AACA,MAAMG,MAAM,GAAGJ,aAAa,CAAC,CAAD,CAAb,CAAiBC,KAAjB,CAAuB,GAAvB,EAA4B,CAA5B,CAAf;AACA,MAAMI,KAAK,GAAGT,UAAU,KAAK,YAAf,GAA8B,YAA9B,GAA6C,UAA3D;AACA,MAAMU,GAAG,GAAG,2CAAyCJ,eAAzC,gBAAA,GAAsEC,eAAtE,MAAA,GAAyFE,KAAzF,aAAA,GAAyGD,MAAzG,mBAAZ;AAEA,SAAOE,GAAP;AACD;IAEYC,+BAA+B,GAAG,SAAlCA,+BAAkC,CAACC,KAAD;AAC7C,MAAMC,UAAU,GAAG,IAAIC,IAAJ,CAASF,KAAT,EAAgBG,cAAhB,EAAnB;AACA,SAAOF,UAAP;AACD;;ACvBM,IAAMG,yBAAyB,GAAG,GAAlC;AACA,IAAMC,wBAAwB,GAAG,GAAjC;AACA,IAAMC,4BAA4B,GAAG,GAArC;AAEA,IAAMC,gBAAgB,GAAG,WAAzB;IACMC,SAAS,GAAG;;ACKbC;;AAAZ,WAAYA;AACVA,EAAAA,gCAAA,eAAA;AACAA,EAAAA,0BAAA,SAAA;AACAA,EAAAA,2BAAA,UAAA;AACAA,EAAAA,8BAAA,aAAA;AACAA,EAAAA,0BAAA,SAAA;AACAA,EAAAA,2BAAA,UAAA;AACD,CAPD,EAAYA,0BAAkB,KAAlBA,0BAAkB,KAAA,CAA9B;;;IAUaC,oBAAoB,GAAG;AAClCC,EAAAA,UAAU,EAAE,YADsB;AAElCC,EAAAA,IAAI,EAAE,MAF4B;AAGlCC,EAAAA,KAAK,EAAE,OAH2B;AAIlCC,EAAAA,QAAQ,EAAE,UAJwB;AAKlCC,EAAAA,IAAI,EAAE,MAL4B;AAMlCC,EAAAA,KAAK,EAAE;AAN2B;IAoBvBC,8BAA8B,GAAG,SAAjCA,8BAAiC,CAC5CC,OAD4C;AAG5C;AACA,MAAMC,cAAc,GAAGD,OAAO,CAC3BzB,KADoB,CACd,IADc,EAEpB2B,MAFoB,CAEb,UAACC,IAAD;AAAU,WAAAC,aAAa,CAACD,IAAD,CAAb;AAAmB,GAFhB,EAGpBE,GAHoB,CAGhB,UAACF,IAAD;AAAU,WAAAA,IAAI,CAACG,MAAL,CAAY,CAAZ,CAAA;AAAc,GAHR,CAAvB;AAIO,MAAAC,qBAAqB,GAAaN,cAAc,EAAA,CAAhD;AAAA,MAA0BO,IAAI,GAAIP,cAAc,MAAd,EAAA,CAAlC;AACP,MAAMQ,iBAAiB,GAAGD,IAAI,CAACE,IAAL,CAAU,IAAV,CAA1B;AACA,MAAMC,eAAe,GAAGX,OAAO,CAC5BzB,KADqB,CACf,IADe,EAErB2B,MAFqB,CAEd,UAACC,IAAD;AAAU,WAAA,CAACC,aAAa,CAACD,IAAD,CAAd;AAAoB,GAFhB,EAGrBO,IAHqB,CAGhB,IAHgB,CAAxB;AAIA,SAAO;AACLC,IAAAA,eAAe,iBADV;AAELC,IAAAA,eAAe,EAAE,EAFZ;AAGLH,IAAAA,iBAAiB,mBAHZ;AAILF,IAAAA,qBAAqB,uBAJhB;AAKLM,IAAAA,iBAAiB,EAAEtB,0BAAkB,CAACM,IALjC;AAMLiB,IAAAA,sBAAsB,EAAE;AANnB,GAAP;AAQD;IAEYC,8BAA8B,GAAG,SAAjCA,8BAAiC,CAACC,EAAD;MAC5CL,eAAe;MACfF,iBAAiB;MACjBF,qBAAqB;AAErB,SAAA,CACE,GADF,EAEEA,qBAFF,EAGE,KAHF,EAIEE,iBAJF,EAKE,IALF,EAMEE,eANF,EAOED,IAPF,CAOO,EAPP,CAAA;AAOU;;AAQZ,IAAMN,aAAa,GAAG,SAAhBA,aAAgB,CAACD,IAAD;AACpB,SAAOA,IAAI,CAACc,MAAL,CAAY,CAAZ,MAAmB7B,4BAA1B;AACD,CAFD;;AAIO,IAAM8B,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,GAAD;AACpC,MAAMC,cAAc,GAAkB,EAAtC;AACA,MAAIC,GAAG,GAAGnC,yBAAV;;AACA,OAAK,IAAIoC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,GAAG,CAACI,MAAxB,EAAgCD,CAAC,IAAIpC,yBAArC,EAAgE;AAC9DkC,IAAAA,cAAc,CAACI,IAAf,CAAoBL,GAAG,CAACM,SAAJ,CAAcH,CAAd,EAAiBD,GAAjB,CAApB;AACAA,IAAAA,GAAG,IAAInC,yBAAP;AACD;;AAED,SAAOkC,cAAP;AACD,CATM;IAWMM,0BAA0B,GAAG,SAA7BA,0BAA6B,CACxCC,GADwC,EAExC1B,cAFwC;AAIxC,MAAM2B,UAAU,GAAG,EAAnB;AAEAC,EAAAA,MAAM,CAACC,OAAP,CAAe7B,cAAf,EAA+B8B,OAA/B,CAAuC,UAACf,EAAD;QAAEgB,GAAG;QAAEC,KAAK;AACjDL,IAAAA,UAAU,CAACJ,IAAX,CACE,IAAIG,GAAG,CAACO,gBAAR,CAAyBF,GAAzB,EAA8Bd,sBAAsB,CAACiB,MAAM,CAACF,KAAD,CAAP,CAApD,CADF;AAGD,GAJD;AAMA,SAAOL,UAAP;AACD;IAEYQ,0BAA0B,GAAG,SAA7BA,0BAA6B,CACxCR,UADwC;AAGxC,SAAAA,UAAU,CAACS,MAAX,CACE,UAACpC,cAAD,EAAiCqC,IAAjC;;;AACErC,IAAAA,cAAc,CAACqC,IAAI,CAACN,GAAN,CAAd,GAA2B,MAAAM,IAAI,CAACL,KAAL,UAAA,iBAAA,SAAA,MAAYvB,KAAK,GAA5C;AAEA,WAAOT,cAAP;AACD,GALH,EAME;AACEQ,IAAAA,iBAAiB,EAAE,EADrB;AAEEK,IAAAA,sBAAsB,EAAE,CAF1B;AAGEF,IAAAA,eAAe,EAAE,EAHnB;AAIE2B,IAAAA,qBAAqB,EAAE,EAJzB;AAKEC,IAAAA,qBAAqB,EAAE,GALzB;AAMEjC,IAAAA,qBAAqB,EAAE,EANzB;AAOEM,IAAAA,iBAAiB,EAAEtB,0BAAkB,CAACM;AAPxC,GANF,CAAA;AAeC;IAEU4C,2BAA2B,GAAG,SAA9BA,2BAA8B,CAACC,WAAD;AACzC,SAAAA,WAAW;AAAA,GAERC,OAFH,CAEWtD,gBAFX,EAE6B,GAF7B;AAAA,GAIGoC,SAJH,CAIa,CAJb,EAIgBtC,wBAJhB,CAAA;AAIyC;;ACvH3C,IAAMyD,eAAe,GAAG;AACtBC,EAAAA,KAAK,EAAE,CACL,YADK,EAEL,WAFK,EAGL,WAHK,EAIL,WAJK,EAKL,eALK,EAML,YANK;AAAA,GADe;AAStBC,EAAAA,KAAK,EAAE,CAAC,YAAD,EAAe,WAAf,EAA4B,YAA5B,EAA0C,WAA1C,CATe;AAUtBC,EAAAA,KAAK,EAAE,CACL,WADK,EAEL,YAFK,EAGL,cAHK,EAIL,YAJK,EAKL,WALK,EAML,YANK,EAOL,WAPK,EAQL,YARK,EASL,YATK,EAUL,aAVK,EAWL,WAXK;AAVe,CAAxB;AAiCA,IAAMC,iBAAiB,GAAsB;AAC3CC,EAAAA,KAAK,EAAE,OADoC;AAE3CC,EAAAA,IAAI,EAAE,MAFqC;AAG3CC,EAAAA,IAAI,EAAE,MAHqC;AAI3CC,EAAAA,SAAS,EAAE,WAJgC;AAK3CC,EAAAA,EAAE,EAAE,IALuC;AAM3CC,EAAAA,OAAO,EAAE;AANkC,CAA7C;AAeO,IAAMC,cAAc,GAAmB;AAC5CV,EAAAA,KAAK,EAAE,OADqC;AAE5CE,EAAAA,KAAK,EAAE,OAFqC;AAG5CD,EAAAA,KAAK,EAAE,OAHqC;AAI5CU,EAAAA,GAAG,EAAE,KAJuC;AAK5CC,EAAAA,MAAM,EAAE;AALoC,CAAvC;AAcP,IAAMC,oBAAoB,GAAyB;AACjDC,EAAAA,IAAI,EAAE,MAD2C;AAEjDC,EAAAA,SAAS,EAAE,WAFsC;AAGjDC,EAAAA,MAAM,EAAE,QAHyC;AAIjDC,EAAAA,OAAO,EAAE;AAJwC,CAAnD;IAgBaC,qBAAqB,GAA0B;AAC1DJ,EAAAA,IAAI,EAAE,MADoD;AAE1DG,EAAAA,OAAO,EAAE,SAFiD;AAG1DE,EAAAA,IAAI,EAAE,MAHoD;AAI1DH,EAAAA,MAAM,EAAE,QAJkD;AAK1DI,EAAAA,SAAS,EAAE,WAL+C;AAM1DC,EAAAA,IAAI,EAAE;AANoD;IAc/CC,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD;AACrB,SAAAxB,eAAe,CAACC,KAAhB,CAAsBwB,OAAtB,CAA8BD,IAA9B,KAAuC,CAAvC;AAAwC;IAC7BE,OAAO,GAAG,SAAVA,OAAU,CAACF,IAAD;AACrB,SAAAxB,eAAe,CAACE,KAAhB,CAAsBuB,OAAtB,CAA8BD,IAA9B,KAAuC,CAAvC;AAAwC;AACnC,IAAMG,KAAK,GAAG,SAARA,KAAQ,CAACH,IAAD;AAA2B,SAAAA,IAAI,KAAK,WAAT;AAAoB,CAA7D;IACMI,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACJ,IAAD;AACjC,SAAAD,OAAO,CAACC,IAAD,CAAP,IAAiBE,OAAO,CAACF,IAAD,CAAxB;AAA8B;AACzB,IAAMK,OAAO,GAAG,SAAVA,OAAU,CAACL,IAAD;AACrB,SAAAxB,eAAe,CAACG,KAAhB,CAAsBsB,OAAtB,CAA8BD,IAA9B,KAAuC,CAAvC;AAAwC,CADnC;IAIMM,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACN,IAAD;AAC9B,MAAID,OAAO,CAACC,IAAD,CAAX,EAAmB,OAAOb,cAAc,CAACV,KAAtB;AACnB,MAAIyB,OAAO,CAACF,IAAD,CAAX,EAAmB,OAAOb,cAAc,CAACT,KAAtB;AACnB,MAAI2B,OAAO,CAACL,IAAD,CAAX,EAAmB,OAAOb,cAAc,CAACR,KAAtB;AACnB,MAAIwB,KAAK,CAACH,IAAD,CAAT,EAAiB,OAAOb,cAAc,CAACC,GAAtB;AACjB,SAAOD,cAAc,CAACE,MAAtB;AACD;IACYkB,wBAAwB,GAAG,SAA3BA,wBAA2B;AAA6B,0CAChEZ,sBADgE;AAEnE;IACWa,uBAAuB,GAAG,SAA1BA,uBAA0B,CACrCC,OADqC,EAErC7E,OAFqC;AAIrC,MAAIA,OAAO,CAAC8E,aAAR,KAA0B,SAA9B,EAAyC,OAAOf,qBAAqB,CAACD,OAA7B;AACzC,MAAI9D,OAAO,CAAC8E,aAAR,KAA0B,QAA9B,EAAwC,OAAOf,qBAAqB,CAACF,MAA7B;;AACxC,MAAIgB,OAAO,CAACE,cAAR,EAAJ,EAA8B;AAC5B;AACA,QAAKF,OAAwB,CAACG,oBAAzB,CAA8ChF,OAA9C,MAA2D,CAAhE,EAAmE;AACjE,aAAO+D,qBAAqB,CAACG,IAA7B;AACD,KAFD,MAEO,IACJW,OAAwB,CAACI,yBAAzB,CAAmDjF,OAAnD,MAAgE,CAD5D,EAEL;AACA,aAAO+D,qBAAqB,CAACE,SAA7B;AACD;AACF;;AACD,MAAIjE,OAAO,CAAC8E,aAAR,KAA0B,WAA9B,EAA2C,OAAOf,qBAAqB,CAACC,IAA7B;AAC3C,SAAOD,qBAAqB,CAACJ,IAA7B;AACD;IACYuB,aAAa,GAAG,SAAhBA,aAAgB,CAC3BL,OAD2B,EAE3B7E,OAF2B;AAI3B,SAAA4E,uBAAuB,CAACC,OAAD,EAAU7E,OAAV,CAAvB,KAA8C+D,qBAAqB,CAACC,IAApE,IACAY,uBAAuB,CAACC,OAAD,EAAU7E,OAAV,CAAvB,KACE+D,qBAAqB,CAACE,SAFxB,IAGAW,uBAAuB,CAACC,OAAD,EAAU7E,OAAV,CAAvB,KAA8C+D,qBAAqB,CAACG,IAHpE;AAGwE;IAa7DiB,eAAe,GAAG,SAAlBA,eAAkB,CAC7BN,OAD6B,EAE7B7E,OAF6B;AAI7B,SAAA4E,uBAAuB,CAACC,OAAD,EAAU7E,OAAV,CAAvB,KAA8C+D,qBAAqB,CAACF,MAApE;AAA0E;IAC/DuB,gBAAgB,GAAG,SAAnBA,gBAAmB,CAC9BP,OAD8B,EAE9B7E,OAF8B;AAI9B,SAAA4E,uBAAuB,CAACC,OAAD,EAAU7E,OAAV,CAAvB,KAA8C+D,qBAAqB,CAACD,OAApE;AAA2E;IAChEuB,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD;AAC1B,SAAAA,KAAK,KAAKvB,qBAAqB,CAACC,IAAhC,IACAsB,KAAK,KAAKvB,qBAAqB,CAACE,SADhC,IAEAqB,KAAK,KAAKvB,qBAAqB,CAACG,IAFhC;AAEoC;AAE/B,IAAMqB,cAAc,GAAG,SAAjBA,cAAiB,CAACvF,OAAD;;;AAC5B,SAAAA,OAAO,KACN,CAAA,MAAAA,OAAO,CAACuF,cAAR,UAAA,iBAAA,SAAA,WAAAvF,QAAA,KACEA,OAAO,CAAC,aAAD,CAAP,IAA0BA,OAAO,CAACwF,WAAR,KAAwB,OAF9C,CAAP;AAE8D,CAHzD;IAIMC,aAAa,GAAG,SAAhBA,aAAgB,CAACzF,OAAD;;;AAC3B,SAAAA,OAAO,KACN,CAAA,MAAAA,OAAO,CAACyF,aAAR,UAAA,iBAAA,SAAA,WAAAzF,QAAA,KACEA,OAAO,CAAC,aAAD,CAAP,IAA0BA,OAAO,CAACwF,WAAR,KAAwB,MAF9C,CAAP;AAE6D;AACxD,IAAME,aAAa,GAAG,SAAhBA,aAAgB,CAAC1F,OAAD;;;AAC3B,SAAAA,OAAO,KACN,CAAA,MAAAA,OAAO,CAAC0F,aAAR,UAAA,iBAAA,SAAA,WAAA1F,QAAA,KACEA,OAAO,CAAC,aAAD,CAAP,IAA0BA,OAAO,CAACwF,WAAR,KAAwB,MAF9C,CAAP;AAE6D,CAHxD;IAKMG,WAAW,GAAG,SAAdA,WAAc,CAAC3F,OAAD;;;AACzB,SAAA,CAAC,EACCA,OAAO,IACPyF,aAAa,CAACzF,OAAD,CADb,KAEAA,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE4F,UAFT,MAGA,MAAA5F,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE4F,UAAT,UAAA,iBAAA,SAAA,MAAqBhH,GAHrB,CADD,CAAD;AAKC;IACUiH,aAAa,GAAG,SAAhBA,aAAgB,CAAC7F,OAAD;AAC3B,SAAAyF,aAAa,CAACzF,OAAD,CAAb,IACA,CAAC2F,WAAW,CAAC3F,OAAD,CADZ,IAEA,CAAC/B,mBAAmB,CAAC+B,OAAO,CAAC9B,UAAT,CAFpB,IAGA,CAACC,iBAAiB,CAAC6B,OAAO,CAAC9B,UAAT,CAHlB;AAGsC;IAC3B4H,kBAAkB,GAAG,SAArBA,kBAAqB,CAAC9F,OAAD;AAChC,SAAAA,OAAO,IAAI0F,aAAa,CAAC1F,OAAD,CAAxB,IAAqCwE,mBAAmB,CAACxE,OAAO,CAACoE,IAAT,CAAxD;AAAsE;IAG3D2B,cAAc,GAAG,SAAjBA,cAAiB,CAAC/F,OAAD;AAC5B,SAAAA,OAAO,IAAI8F,kBAAkB,CAAC9F,OAAD,CAA7B,IAA0CsE,OAAO,CAACtE,OAAO,CAACoE,IAAT,CAAjD;AAA+D;IACpD4B,YAAY,GAAG,SAAfA,YAAe,CAAChG,OAAD;AAC1B,SAAAA,OAAO,IAAI8F,kBAAkB,CAAC9F,OAAD,CAA7B,IAA0CuE,KAAK,CAACvE,OAAO,CAACoE,IAAT,CAA/C;AAA6D;IAIlD6B,eAAe,GAAG,SAAlBA,eAAkB,CAACjG,OAAD;AAC7B,SAAAyF,aAAa,CAACzF,OAAD,CAAb,IAA0B,CAAAA,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEkG,SAAT,IAAqB,CAA/C;AAAgD;IAIrCC,oBAAoB,GAAG,SAAvBA,oBAAuB;AAAyB,0CACxDnD,kBADwD;AAE3D;IACWoD,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACpG,OAAD;AACjC,MAAIuF,cAAc,CAACvF,OAAD,CAAlB,EAA6C,OAAOgD,iBAAiB,CAACC,KAAzB;;AAC7C,MAAIwC,aAAa,CAACzF,OAAD,CAAjB,EAA2C;AACzC,WAAO2F,WAAW,CAAC3F,OAAD,CAAX,GACHgD,iBAAiB,CAACK,EADf,GAEHL,iBAAiB,CAACE,IAFtB;AAGD;;AACD,MAAIwC,aAAa,CAAC1F,OAAD,CAAjB,EAA2C;AACzC,WAAO8F,kBAAkB,CAAC9F,OAAD,CAAlB,GACHgD,iBAAiB,CAACI,SADf,GAEHJ,iBAAiB,CAACG,IAFtB;AAGD;;AACD,SAAOH,iBAAiB,CAACM,OAAzB;AACD;IACY+C,uBAAuB,GAAG,SAA1BA,uBAA0B;AAA4B,0CAC9D3C,qBAD8D;AAEjE;;AAEF,IAAM4C,OAAO,GAAG,SAAVA,OAAU,CACdC,WADc,EAEdC,YAFc;AAId,MAAIC,KAAK,CAACC,OAAN,CAAcF,YAAd,CAAJ,EAAiC;AAC/B,mFAAWD,oBAAgBC,mBAA3B;AACD,GAFD,MAEO;AACLD,IAAAA,WAAW,CAAC/E,IAAZ,CAAiBgF,YAAjB;AACA,WAAOD,WAAP;AACD;AACF,CAVD;;IAWaI,YAAY,GAAG,SAAfA,YAAe,CAC1BC,UAD0B;AAG1B,SAAAH,KAAK,CAACC,OAAN,CAAcE,UAAd,IACIA,UAAU,CAACvE,MAAX,CAAkBiE,OAAlB,EAA2B,EAA3B,EAA+B5F,IAA/B,CAAoC,GAApC,CADJ,GAEIkG,UAFJ;AAEc;IACHC,WAAW,GAAG,SAAdA,WAAc,CAACC,MAAD,EAAiBC,QAAjB;AACzB,SAAAA,QAAQ,CAACC,OAAT,CAAiBC,IAAjB,CACE,UAACC,aAAD;AAAoC,WAAAA,aAAa,KAAKJ,MAAlB;AAAwB,GAD9D,CAAA;AAEC;IAMUK,qBAAqB,GAAG,SAAxBA,qBAAwB,CACnCJ,QADmC,EAEnCD,MAFmC,EAGnCM,kBAHmC,EAInCC,SAJmC;AAMnC,MAAIC,GAAG,GAAG,EAAV;;AACA,MAAIT,WAAW,CAACC,MAAD,EAASC,QAAT,CAAf,EAAmC;AACjCO,IAAAA,GAAG,GACDP,QAAQ,CAACC,OAAT,CAAiBzF,MAAjB,KAA4B,CAA5B,GACI8F,SAAS,CAACE,YADd,GAEIF,SAAS,CAACG,gBAHhB;AAID;;AACD,SAAO,KAAGT,QAAQ,CAACC,OAAT,CACP9G,MADO,CACA,UAACgH,aAAD;AAA2B,WAAAA,aAAa,KAAKJ,MAAlB;AAAwB,GADnD,EAEPzG,GAFO,CAGN,UAAC6G,aAAD;AACE,WAAAE,kBAAkB,CAACK,GAAnB,CAAuBP,aAAvB,KAAyCG,SAAS,CAACK,qBAAnD;AAAwE,GAJpE,EAMPhH,IANO,CAMF,IANE,CAAH,GAMS4G,GANhB;AAOD;IA+BYK,iBAAiB,GAAG,SAApBA,iBAAoB,CAC/Bb,MAD+B,EAE/B9G,OAF+B;;;AAI/B,SAAA8G,MAAM,KAAI,MAAA9G,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE4H,MAAT,UAAA,iBAAA,SAAA,MAAiBd,MAArB,CAAN,IAAqCA,MAAM,KAAK9G,OAAO,CAAC4H,MAAR,CAAed,MAA/D;AAAqE;IAE1De,uBAAuB,GAAG,SAA1BA,uBAA0B,CAAC7H,OAAD;AACrC,SAAA,CAAAA,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE8H,iBAAT,KAA8B,KAA9B;AAAmC;AAErC,IAAMC,OAAO,GAAG,kFAAhB;IACaC,KAAK,GAAG,SAARA,KAAQ,CAACC,IAAD;AAA2B,SAAAF,OAAO,CAACG,IAAR,CAAaD,IAAb,CAAA;AAAkB;IAErDE,cAAc,GAAG,SAAjBA,cAAiB,CAACC,OAAD,EAAkBC,MAAlB;AAC5B,MAAI,CAACA,MAAL,EAAaA,MAAM,GAAG,EAAT;AACb,MAAID,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAKE,SAApC,EAA+C,OAAO,EAAP;AAC/C,MAAIF,OAAO,CAAC7G,MAAR,IAAkB8G,MAAtB,EAA8B,OAAOD,OAAP;AAC9B,MAAMG,SAAS,GAAG,KAAlB;AACA,MAAMC,MAAM,GAAGD,SAAS,CAAChH,MAAzB;AACA,MAAMkH,WAAW,GAAGJ,MAAM,GAAGG,MAA7B;AACA,MAAME,UAAU,GAAGC,IAAI,CAACC,IAAL,CAAUH,WAAW,GAAG,CAAxB,CAAnB;AACA,MAAMI,SAAS,GAAGF,IAAI,CAACG,KAAL,CAAWL,WAAW,GAAG,CAAzB,CAAlB;AACA,SACEL,OAAO,CAAC9H,MAAR,CAAe,CAAf,EAAkBoI,UAAlB,IACAH,SADA,GAEAH,OAAO,CAAC9H,MAAR,CAAe8H,OAAO,CAAC7G,MAAR,GAAiBsH,SAAhC,CAHF;AAKD;IAEYE,eAAe,GAAG,SAAlBA,eAAkB,CAACd,IAAD;AAC7B;AACA,MAAIe,MAAM,CAACC,aAAP,IAAwBD,MAAM,CAACC,aAAP,CAAqBC,OAAjD,EAA0D;AACxD;AACA;AACA,WAAOF,MAAM,CAACC,aAAP,CAAqBC,OAArB,CAA6B,MAA7B,EAAqCjB,IAArC,CAAP;AACD;;AACD,MACEkB,QAAQ,CAACC,qBAAT,IACAD,QAAQ,CAACC,qBAAT,CAA+B,MAA/B,CAFF,EAGE;AACA,QAAMC,QAAQ,GAAGF,QAAQ,CAACG,aAAT,CAAuB,UAAvB,CAAjB;AACAD,IAAAA,QAAQ,CAACE,WAAT,GAAuBtB,IAAvB;AACAoB,IAAAA,QAAQ,CAACG,KAAT,CAAeC,QAAf,GAA0B,OAA1B,CAHA;;AAIAN,IAAAA,QAAQ,CAACO,IAAT,CAAcC,WAAd,CAA0BN,QAA1B;AACAA,IAAAA,QAAQ,CAACO,MAAT;;AACA,QAAI;AACF,aAAOT,QAAQ,CAACU,WAAT,CAAqB,MAArB,CAAP,CADE;AAEH,KAFD,CAEE,OAAOC,EAAP,EAAW;AACX,aAAO,KAAP;AACD,KAJD,SAIU;AACRX,MAAAA,QAAQ,CAACO,IAAT,CAAcK,WAAd,CAA0BV,QAA1B;AACD;AACF;;AACD,SAAO,KAAP;AACD;IAEYW,eAAe,GAAG,SAAlBA,eAAkB,CAACC,cAAD;AAC7B,SAAAA,cAAc,CAACC,eAAf,CACG7J,GADH,CACO,UAAC8J,aAAD;AAAkC,WAAAA,aAAa,CAACC,MAAd;AAAoB,GAD7D,EAEG/H,MAFH,CAGI,UAACgI,OAAD,EAAwBC,OAAxB;AAAkD,WAAAD,OAAO,CAACE,MAAR,CAAeD,OAAf,CAAA;AAAuB,GAH7E,EAII,EAJJ,CAAA;AAKG;IACQE,cAAc,GAAG,SAAjBA,cAAiB,CAC5BP,cAD4B;AAG5B,MAAMQ,QAAQ,GAAG,IAAIC,GAAJ,EAAjB;AACAT,EAAAA,cAAc,CAACC,eAAf,CAA+BnI,OAA/B,CAAuC,UAAC4I,QAAD;AACrC,WAAAA,QAAQ,CAACP,MAAT,CAAgBrI,OAAhB,CAAwB,UAAC6I,KAAD;AACtBH,MAAAA,QAAQ,CAACI,GAAT,CAAaD,KAAK,CAAC5I,GAAnB,EAAwB4I,KAAxB;AACD,KAFD,CAAA;AAEE,GAHJ;AAKA,SAAOH,QAAP;AACD;AAEM,IAAMK,WAAW,GAAG,SAAdA,WAAc,CAACC,IAAD;AACzB,SAAA,CAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,SAAA,GAAAA,IAAI,CAAEC,UAAN,MAAoBD,IAAI,SAAJ,IAAAA,IAAI,WAAJ,SAAA,GAAAA,IAAI,CAAEE,QAA1B,MAAsCF,IAAI,SAAJ,IAAAA,IAAI,WAAJ,SAAA,GAAAA,IAAI,CAAEjE,MAA5C,CAAA;AAAkD,CAD7C;IAEMoE,aAAa,GAAG,SAAhBA,aAAgB,CAAClL,OAAD;AAC3B,SAAAA,OAAO,CAAC4H,MAAR,IAAkBkD,WAAW,CAAC9K,OAAO,CAAC4H,MAAT,CAA7B;AAA6C;IAClCuD,mBAAmB,GAAG,SAAtBA,mBAAsB,CACjCnL,OADiC;AAEtB,SAAAoL,YAAM,CAACpL,OAAO,CAACqL,SAAR,IAAqB,CAAtB,EAAyB,OAAzB,CAAN;AAAuC;AAE7C,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAIC,CAAJ,EAAYC,CAAZ;AAC5B,MAAID,CAAC,KAAKC,CAAV,EAAa;AACX,WAAO,IAAP;AACD;;AACD,MAAID,CAAC,IAAI,IAAL,IAAaC,CAAC,IAAI,IAAtB,EAA4B;AAC1B,WAAO,KAAP;AACD;;AACD,MAAID,CAAC,CAAChK,MAAF,KAAaiK,CAAC,CAACjK,MAAnB,EAA2B;AACzB,WAAO,KAAP;AACD;;AAED,MAAMkK,OAAO,GAAGC,sCAAIH,QAAJ,CAAOI,IAAP,EAAhB;;AACA,MAAMC,OAAO,GAAGF,sCAAIF,QAAJ,CAAOG,IAAP,EAAhB;;AAEA,OAAK,IAAIrK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmK,OAAO,CAAClK,MAA5B,EAAoC,EAAED,CAAtC,EAAyC;AACvC,QAAImK,OAAO,CAACnK,CAAD,CAAP,KAAesK,OAAO,CAACtK,CAAD,CAA1B,EAA+B;AAC7B,aAAO,KAAP;AACD;AACF;;AACD,SAAO,IAAP;AACD,CApBM;AAqBA,IAAMuK,QAAQ,GAAG,SAAXA,QAAW,CAACd,IAAD;AACtB,SAAA,CAAC,EAAEA,IAAI,CAACe,kBAAL,IAA2Bf,IAAI,CAACC,UAAlC,CAAD;AAA8C,CADzC;IAGMe,uBAAuB,GAAG,SAA1BA,uBAA0B,CACrCC,MADqC,EAErChM,OAFqC;;;AAIrC,MAAI,CAAAgM,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAExG,WAAR,KAAuBwG,MAAM,CAACxG,WAAP,KAAuBxF,OAAO,CAACwF,WAA1D,EAAuE;AACrE,WAAO,KAAP;AACD;;AACD,MACE,CAAA,MAAAwG,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAEC,WAAR,UAAA,iBAAA,SAAA,MAAqB1K,MAArB,IAA8B,CAA9B,IACA,CAACyK,MAAM,CAACC,WAAP,CAAmBC,QAAnB,CAA4BlM,OAAO,CAAC9B,UAApC,CAFH,EAGE;AACA,WAAO,KAAP;AACD;;AACD,MAAI,CAAA8N,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAEG,aAAR,KAAyB,CAAA,MAAAH,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAEG,aAAR,UAAA,iBAAA,SAAA,MAAuB5K,MAAvB,IAAgC,CAA7D,EAAgE;AAC9D,QAAI,CAAAvB,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEyF,aAAT,EAAA,KAA4BzF,OAAO,CAAC0F,aAAR,EAAhC,EAAyD;AACvD,UAAM0G,aAAa,GAChBpM,OAAqC,CAAC4H,MAAtC,IAAgD5H,OAAO,CAAC,SAAD,CAD1D;;AAEA,UAAI,EAAC,MAAAgM,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAEG,aAAR,UAAA,iBAAA,SAAA,MAAuBD,SAASE,aAAa,SAAb,IAAAA,aAAa,WAAb,SAAA,GAAAA,aAAa,CAAEtF,OAAhD,CAAJ,EAA6D;AAC3D,eAAO,KAAP;AACD;AACF,KAND,MAMO;AACL,aAAO,KAAP;AACD;AACF;;AACD,SAAO,IAAP;AACD;IAaYuF,uBAAuB,GAAG,SAA1BA,uBAA0B,CACrCL,MADqC,EAErCnH,OAFqC,EAGrCyH,aAHqC;;;AAKrC,MACE,EAACN,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAEO,YAAT,MACA1H,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE2H,WADT,KAEA3H,OAAO,CAAC2H,WAAR,KAAwB,IAH1B,EAIE;AACA,WAAO,KAAP;AACD;;AACD,MACE,CAAA,MAAAR,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAES,aAAR,UAAA,iBAAA,SAAA,MAAuBC,YAAvB,KACA,CAAA,MAAAV,MAAM,CAACS,aAAP,CAAqBE,aAArB,UAAA,iBAAA,SAAA,MAAoCpL,MAApC,IAA6C,CAF/C,EAGE;AACA,QAAMqL,YAAY,GAAGZ,MAAM,CAACS,aAA5B;AACA,QAAMI,aAAW,GAAGD,YAAY,CAACF,YAAjC;AACA,QAAMI,YAAY,GAAGF,YAAY,CAACD,aAAlC;;AACA,QAAIE,aAAW,IAAIC,YAAf,IAA+BA,YAAY,CAACvL,MAAb,GAAsB,CAAzD,EAA4D;AAC1D,UACE,CAACuL,YAAY,CAAC7F,IAAb,CAAkB,UAAC8F,WAAD;AACjB,gBAAQA,WAAR;AACE,eAAK,cAAL;AAAqB;AACnB,qBAAOlI,OAAO,CAACmI,IAAR,CACJC,WADI,GAEJf,QAFI,CAEKW,aAAW,CAACI,WAAZ,EAFL,CAAP;AAGD;;AACD,eAAK,iBAAL;AAAwB;AACtB,qBAAOpI,OAAO,CAACqI,OAAR,CAAgBjG,IAAhB,CAAqB,UAACkG,MAAD;AAC1B,uBAAAA,MAAM,CAAClC,QAAP,CACGgC,WADH,GAEGf,QAFH,CAEYW,aAAW,CAACI,WAAZ,EAFZ,CAAA;AAEsC,eAHjC,CAAP;AAKD;;AACD;AAAS;AACP,qBAAO,IAAP;AACD;AAfH;AAiBD,OAlBA,CADH,EAoBE;AACA,eAAO,KAAP;AACD;AACF;AACF;;AACD,MAAI,CAAA,MAAA,MAAAjB,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAEoB,cAAR,UAAA,iBAAA,SAAA,MAAwBpG,OAAxB,UAAA,iBAAA,SAAA,MAAiCzF,MAAjC,IAA0C,CAA9C,EAAiD;AAC/C,QAAM8L,aAAa,GAAGrB,MAAM,CAACoB,cAA7B;AACQ,QAAAE,WAAW,GAAgBD,aAAa,YAAxC;AAAA,QAAaE,SAAS,GAAKF,aAAa,UAAxC;AACR,QAAMrG,OAAO,GAAaqG,aAAa,CAACrG,OAAxC;AACA,QAAMwG,WAAS,GAAG3I,OAAO,CAACqI,OAAR,CAAgB7M,GAAhB,CAAoB,UAAC8M,MAAD;AAAoB,aAAAA,MAAM,CAACrG,MAAP;AAAa,KAArD,CAAlB;;AACA,QAAI,CAACwG,WAAL,EAAkB;AAChB;AACA,UAAI,CAACtG,OAAO,CAACkF,QAAR,CAAiBI,aAAjB,CAAL,EAAsC;AACpCtF,QAAAA,OAAO,CAACxF,IAAR,CAAa8K,aAAb,EADoC;AAErC;;AACD,UAAIzH,OAAO,CAACqI,OAAR,CAAgB3L,MAAhB,GAAyByF,OAAO,CAACzF,MAArC,EAA6C;AAC3C,eAAO,KAAP,CAD2C;AAE5C;;AACD,UAAI,CAAC+J,cAAc,CAACtE,OAAD,EAAUwG,WAAV,CAAnB,EAAyC;AACvC,eAAO,KAAP;AACD;AACF,KAXD,MAWO,IAAIxG,OAAO,CAACzF,MAAR,GAAiB,CAArB,EAAwB;AAC7B;AACA,cAAQgM,SAAR;AACE,aAAK,KAAL;AAAY;AACV,gBAAIvG,OAAO,CAACC,IAAR,CAAa,UAACH,MAAD;AAAoB,qBAAA,CAAC0G,WAAS,CAACtB,QAAV,CAAmBpF,MAAnB,CAAD;AAA2B,aAA5D,CAAJ,EAAmE;AACjE,qBAAO,KAAP;AACD;;AACD;AACD;;AACD,aAAK,IAAL;AAAW;AACT,gBAAIE,OAAO,CAACyG,KAAR,CAAc,UAAC3G,MAAD;AAAoB,qBAAA,CAAC0G,WAAS,CAACtB,QAAV,CAAmBpF,MAAnB,CAAD;AAA2B,aAA7D,CAAJ,EAAoE;AAClE,qBAAO,KAAP;AACD;;AACD;AACD;AAZH;AAiBD;AACF;;AACD,MAAI,CAAAkF,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAEO,YAAR,MAAyB,KAAzB,IAAkC,CAAA1H,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE2H,WAAT,MAAyB,IAA/D,EAAqE;AACnE,WAAO,KAAP;AACD;;AACD,MAAI,CAAAR,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAE0B,aAAR,MAA0B,KAA1B,IAAmC,CAAA7I,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE8I,QAAT,MAAsB,IAA7D,EAAmE;AACjE,WAAO,KAAP;AACD;;AACD,MACE,CAAA,MAAA3B,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAE4B,iBAAR,UAAA,iBAAA,SAAA,MAA2BrM,MAA3B,IAAoC,CAApC,IACA,CAACyK,MAAM,CAAC4B,iBAAP,CAAyB1B,QAAzB,CAAkCrH,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE3G,UAA3C,CAFH,EAGE;AACA,WAAO,KAAP;AACD;;AACD,MACE,CAAA8N,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAE6B,0BAAR,KACA,CAAC,IAAIC,MAAJ,CAAW,MAAI9B,MAAM,CAAC6B,0BAAtB,EAAoD3F,IAApD,CACCrD,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE3G,UADV,CAFH,EAKE;AACA,WAAO,KAAP;AACD;;AACD,MACE,CAAA8N,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAE+B,yBAAR,KACA,EAAC,MAAAlJ,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEmI,IAAT,UAAA,iBAAA,SAAA,MACGC,cACDf,SAASF,MAAM,CAAC+B,yBAAP,CAAiCd,WAAjC,GAFZ,CAFF,EAKE;AACA,WAAO,KAAP;AACD;;AACD,MAAIjB,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAEgC,sBAAZ,EAAoC;AAClC,QAAMC,qBAAmB,GAAGjC,MAAM,CAACgC,sBAAP,CAA8Bf,WAA9B,EAA5B;;AACA,QACE,MAAApI,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEqI,OAAT,UAAA,iBAAA,SAAA,MAAkBO,MAChB,UAACN,MAAD;AACE,aAAA,CAACA,MAAM,CAAClC,QAAP,CAAgBgC,WAAhB,GAA8Bf,QAA9B,CAAuC+B,qBAAvC,CAAD;AAA4D,MAHlE,EAKE;AACA,aAAO,KAAP;AACD;AACF;;AACD,MACE,CAAA,MAAAjC,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAEkC,iBAAR,UAAA,iBAAA,SAAA,MAA2B3M,MAA3B,IAAoC,CAApC,IACA,CAACyK,MAAM,CAACkC,iBAAP,CAAyBhC,QAAzB,CAAkCrH,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEjG,GAA3C,CAFH,EAGE;AACA,WAAO,KAAP;AACD;;AACD,MAAIoN,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAEmC,iBAAZ,EAA+B;AAC7B,YAAQnC,MAAM,CAACmC,iBAAf;AACE,WAAK,aAAL;AACE,YAAI,CAAAtJ,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEuJ,aAAT,MAA2B,QAA/B,EAAyC;AACvC,iBAAO,KAAP;AACD;;AACD;;AACF,WAAK,cAAL;AACE,YAAI,CAAAvJ,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEuJ,aAAT,MAA2B,SAA/B,EAA0C;AACxC,iBAAO,KAAP;AACD;;AACD;;AACF,WAAK,mBAAL;AACE,YACE,CAAAvJ,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEuJ,aAAT,MAA2B,SAA3B,IACA,CAACvC,QAAQ,CAAChH,OAAO,CAACwJ,OAAT,CAFX,EAGE;AACA,iBAAO,KAAP;AACD;;AACD;;AACF,WAAK,uBAAL;AACE,YAAI,CAAAxJ,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEuJ,aAAT,MAA2B,SAA3B,IAAwCvC,QAAQ,CAAChH,OAAO,CAACwJ,OAAT,CAApD,EAAuE;AACrE,iBAAO,KAAP;AACD;;AACD;AAvBJ;AAyBD;;AACD,MAAIrC,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAEsC,mBAAZ,EAAiC;AAC/B,YAAQtC,MAAM,CAACsC,mBAAf;AACE,WAAK,eAAL;AACE,YAAI,CAAAzJ,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE0J,QAAT,KAAqB,CAAA1J,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE2J,WAAT,MAAyB,UAAlD,EAA8D;AAC5D,iBAAO,KAAP;AACD;;AACD;;AACF,WAAK,aAAL;AACE,YAAI,EAAC3J,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE0J,QAAV,CAAJ,EAAwB;AACtB,iBAAO,KAAP;AACD;;AACD;;AACF,WAAK,0BAAL;AACE,YACE,EAAC1J,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE0J,QAAV,KACA,CAAA1J,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE2J,WAAT,MAAyB,0BAF3B,EAGE;AACA,iBAAO,KAAP;AACD;;AACD;;AACF,WAAK,4BAAL;AACE,YACE,EAAC3J,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE0J,QAAV,KACA,CAAA1J,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE2J,WAAT,MAAyB,4BAF3B,EAGE;AACA,iBAAO,KAAP;AACD;;AACD;AA1BJ;AA4BD;;AACD,MAAIxC,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAEyC,mBAAZ,EAAiC;AAC/B,YAAQzC,MAAM,CAACyC,mBAAf;AACE,WAAK,gBAAL;AACE,YAAI,CAAA5J,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE6J,kBAAT,MAAgC,CAApC,EAAuC;AACrC,iBAAO,KAAP;AACD;;AACD;AALJ;AAOD;;AACD,MAAI1C,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAE2C,mBAAZ,EAAiC;AAC/B,YAAQ3C,MAAM,CAAC2C,mBAAf;AACE,WAAK,QAAL;AACE,YAAI,EAAC9J,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE+J,QAAV,CAAJ,EAAwB;AACtB,iBAAO,KAAP;AACD;;AACD;;AACF,WAAK,SAAL;AACE,YAAI/J,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE+J,QAAb,EAAuB;AACrB,iBAAO,KAAP;AACD;;AACD;AAVJ;AAYD;;AACD,MAAI5C,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAE6C,kBAAZ,EAAgC;AAC9B,YAAQ7C,MAAM,CAAC6C,kBAAf;AACE,WAAK,OAAL;AACE,YAAI,EAAChK,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEiK,OAAV,CAAJ,EAAuB;AACrB,iBAAO,KAAP;AACD;;AACD;;AACF,WAAK,UAAL;AACE,YAAIjK,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEiK,OAAb,EAAsB;AACpB,iBAAO,KAAP;AACD;;AACD;AAVJ;AAYD;;AACD,SAAO,IAAP;AACD;AAEM,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,IAAD,EAAsBC,MAAtB;AAC1B;AACA,MAAMC,KAAK,GAAGvG,IAAI,CAACG,KAAL,CAAWkG,IAAI,CAACzN,MAAL,GAAc,CAAzB,CAAd;;AACA,MAAIyN,IAAI,CAACE,KAAD,CAAJ,KAAgBD,MAApB,EAA4B;AAC1B,WAAOC,KAAP;AACD;;AACD,MAAMC,QAAQ,GAAGH,IAAI,CAACI,KAAL,CAAW,CAAX,EAAcF,KAAd,CAAjB;AACA,MAAMG,SAAS,GAAGL,IAAI,CAACI,KAAL,CAAWF,KAAK,GAAG,CAAnB,EAAsBF,IAAI,CAACzN,MAA3B,CAAlB;;AACA,MAAIyN,IAAI,CAACE,KAAD,CAAJ,GAAcD,MAAlB,EAA0B;AACxB,WACEC,KAAK,GAAG,CAAR,IAAaG,SAAS,CAAC9N,MAAV,KAAqB,CAArB,GAAyB,CAAzB,GAA6BwN,YAAY,CAACM,SAAD,EAAYJ,MAAZ,CAAtD,CADF;AAGD,GAJD,MAIO;AACL,WAAOE,QAAQ,CAAC5N,MAAT,KAAoB,CAApB,GAAwB2N,KAAxB,GAAgCH,YAAY,CAACI,QAAD,EAAWF,MAAX,CAAnD;AACD;AACF,CAfM;;IAiBMK,8BAA8B,GAAG,SAAjCA,8BAAiC,CAC5CC,QAD4C,EAE5C1K,OAF4C;;;AAI5C,MAAI0K,QAAQ,CAACtI,IAAT,CAAc,UAACuI,EAAD;AAAsB,WAAAA,EAAE,CAAC5Q,GAAH,KAAWiG,OAAO,CAACjG,GAAnB;AAAsB,GAA1D,CAAJ,EAAiE;AAC/D,WAAO2Q,QAAQ,CAAClP,GAAT,CAAa,UAACmP,EAAD;AAClB,aAAAA,EAAE,CAAC5Q,GAAH,KAAWiG,OAAO,CAACjG,GAAnB,GAAyBiG,OAAzB,GAAmC2K,EAAnC;AAAqC,KADhC,CAAP;AAGD;;AACD,MAAMC,WAAW,GAAGV,YAAY,CAC9BQ,QAAQ,CAAClP,GAAT,CACE,UAACwE,OAAD;;;AACE,WAAA,CAAA,MAAAA,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE2H,WAAT,UAAA,iBAAA,SAAA,MAAsBnB,SAAtB,MAAmCxG,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEwG,SAA5C,CAAA;AAAqD,GAFzD,CAD8B,EAK9B,CAAA,MAAAxG,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE2H,WAAT,UAAA,iBAAA,SAAA,MAAsBnB,SAAtB,MAAmCxG,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEwG,SAA5C,CAL8B,CAAhC;AAOA,mHACKkE,QAAQ,CAACH,KAAT,CAAe,CAAf,EAAkBK,WAAlB,WACH5K,kBACG0K,QAAQ,CAACH,KAAT,CAAeK,WAAf,EAA4BF,QAAQ,CAAChO,MAArC,QAHL;AAKD;;ICvtBKmO,UAAU,gBAAG7S,yBAAK,CAAC8S,UAAN,CAAiB,UAACxS,KAAD,EAAQyS,GAAR,EAAgB;AAClD,MACEvS,SADF,GAUIF,KAVJ,CACEE,SADF;AAAA,MAEED,QAFF,GAUID,KAVJ,CAEEC,QAFF;AAAA,MAGEyS,QAHF,GAUI1S,KAVJ,CAGE0S,QAHF;AAAA,MAIEC,KAJF,GAUI3S,KAVJ,CAIE2S,KAJF;AAAA,MAKEC,MALF,GAUI5S,KAVJ,CAKE4S,MALF;AAAA,MAME3L,IANF,GAUIjH,KAVJ,CAMEiH,IANF;AAAA,MAOE4L,QAPF,GAUI7S,KAVJ,CAOE6S,OAPF;AAAA,MAQEC,OARF,GAUI9S,KAVJ,CAQE8S,MARF;AAAA,MASEzG,KATF,GAUIrM,KAVJ,CASEqM,KATF;;AAYA,kBAA8B0G,cAAQ,CAAC,EAAD,CAAtC;AAAA;AAAA,MAAOC,OAAP;AAAA,MAAgBC,UAAhB;;AAEA;AAAA;AACE;AACA;AACE,MAAA,SAAS,EAAE,iDACL3J,KAAK,CAACC,OAAN,CAAcrJ,SAAd,IAA2BA,SAA3B,GAAuC,CAACA,SAAD,CADlC,IAET,qBAFS,EAGT8S,OAHS,GAITzP,IAJS,CAIJ,GAJI,CADb;AAME,MAAA,QAAQ,EAAEmP,QANZ;AAOE,MAAA,GAAG,EAAED,GAPP;AAQE,MAAA,IAAI,EAAExL,IARR;AAAA;AASE,MAAA,KAAK,4EACAoF,KADA;AAEHuG,QAAAA,MAAM,EAANA,MAFG;AAGHD,QAAAA,KAAK,EAALA;AAHG,QATP;AAcE,MAAA,OAAO,EAAE,iBAACO,CAAD,EAAO;AACd,YAAIR,QAAJ,EAAc;AAAE;AAAS;;AACzBO,QAAAA,UAAU,CAAC,8BAAD,CAAV;;AACAJ,QAAAA,QAAO,CAACK,CAAD,CAAP;AACD,OAlBH;AAmBE,MAAA,MAAM,EAAE,gBAACA,CAAD,EAAO;AACbD,QAAAA,UAAU,CAAC,EAAD,CAAV;;AACAH,QAAAA,OAAM,CAACI,CAAD,CAAN;AACD;AAtBH,oBAwBExT;AAAM,MAAA,SAAS,EAAC;AAAhB,OACGO,QADH,CAxBF;AAFF;AA+BD,CA9CkB;AAgDnBsS,UAAU,CAACpS,SAAX,GAAuB;AACrBD,EAAAA,SAAS,EAAEE,6BAAS,CAACC,SAAV,CAAoB,CAC7BD,6BAAS,CAACQ,MADmB,EAE7BR,6BAAS,CAACG,OAAV,CAAkBH,6BAAS,CAACQ,MAA5B,CAF6B,CAApB,CADU;AAKrBX,EAAAA,QAAQ,EAAEG,6BAAS,CAACC,SAAV,CAAoB,CAC5BD,6BAAS,CAACE,OADkB,EAE5BF,6BAAS,CAACG,OAAV,CAAkBH,6BAAS,CAACE,OAA5B,CAF4B,EAG5BF,6BAAS,CAACI,GAHkB,CAApB,EAIPC,UATkB;AAUrBiS,EAAAA,QAAQ,EAAEtS,6BAAS,CAACM,IAVC;AAWrBiS,EAAAA,KAAK,EAAEvS,6BAAS,CAACQ,MAXI;AAYrBgS,EAAAA,MAAM,EAAExS,6BAAS,CAACQ,MAZG;AAarBqG,EAAAA,IAAI,EAAE7G,6BAAS,CAACQ,MAbK;AAcrBiS,EAAAA,OAAO,EAAEzS,6BAAS,CAACO,IAdE;AAerBmS,EAAAA,MAAM,EAAE1S,6BAAS,CAACO,IAfG;AAgBrB0L,EAAAA,KAAK,EAAEjM,6BAAS,CAAC+S,KAAV,CAAgB,EAAhB;AAhBc,CAAvB;AAmBAZ,UAAU,CAAC1R,YAAX,GAA0B;AACxBX,EAAAA,SAAS,EAAE,EADa;AAExBwS,EAAAA,QAAQ,EAAE,KAFc;AAGxBC,EAAAA,KAAK,EAAE,MAHiB;AAIxBC,EAAAA,MAAM,EAAE,MAJgB;AAKxB3L,EAAAA,IAAI,EAAE,QALkB;AAMxB4L,EAAAA,OAAO,EAAE,mBAAM,EANS;AAOxBC,EAAAA,MAAM,EAAE,kBAAM,EAPU;AAQxBzG,EAAAA,KAAK,EAAE;AARiB,CAA1B;;ACxEA;IAGa+G,UAAU,GAAG;;ICHbC,IAAI,GAAG;AAClBC,EAAAA,OAAO,EAAE,SADS;AAElBC,EAAAA,SAAS,EAAE,WAFO;AAGlBC,EAAAA,MAAM,EAAE,QAHU;AAIlBC,EAAAA,QAAQ,EAAE;AAJQ;AAOb,IAAMC,IAAI,GAAG;AAClBC,EAAAA,GAAG,EAAE,KADa;AAElBC,EAAAA,KAAK,EAAE;AAFW,CAAb;;ACLA,SAASC,qBAAT,CAA+B5M,IAA/B,EAAqC;AAC1C,UAAQA,IAAR;AACE,SAAKoM,IAAI,CAACC,OAAV;AAAmB,aAAO,0BAAP;;AACnB,SAAKD,IAAI,CAACE,SAAV;AAAqB,aAAO,4BAAP;;AACrB,SAAKF,IAAI,CAACG,MAAV;AAAkB,aAAO,yBAAP;;AAClB,SAAKH,IAAI,CAACI,QAAV;AAAoB,aAAO,2BAAP;;AACpB;AAAS,aAAO,IAAP;AALX;AAOD;AAEM,SAASK,qBAAT,CAA+BC,IAA/B,EAAqC;AAC1C,UAAQA,IAAR;AACE,SAAKL,IAAI,CAACC,GAAV;AAAe,aAAO,sBAAP;;AACf,SAAKD,IAAI,CAACE,KAAV;AAAiB,aAAO,wBAAP;;AACjB;AAAS,aAAO,IAAP;AAHX;AAKD;;ACVc,SAASI,MAAT,OAOZ;AAAA,MAND9T,SAMC,QANDA,SAMC;AAAA,MALD+G,IAKC,QALDA,IAKC;AAAA,MAJD8M,IAIC,QAJDA,IAIC;AAAA,MAHD9T,QAGC,QAHDA,QAGC;AAAA,MAFDyS,QAEC,QAFDA,QAEC;AAAA,MADDG,OACC,QADDA,OACC;AACD,MAAMoB,mBAAmB,GAAG,iDACrB3K,KAAK,CAACC,OAAN,CAAcrJ,SAAd,CAAD,GAA6BA,SAA7B,GAAyC,CAACA,SAAD,CADnB,IAE1B,iBAF0B,EAGzBwS,QAAQ,GAAG,2BAAH,GAAiC,EAHhB,EAI1BmB,qBAAqB,CAAC5M,IAAD,CAJK,EAK1B6M,qBAAqB,CAACC,IAAD,CALK,GAM1BxQ,IAN0B,CAMrB,GANqB,CAA5B;AAQA,sBACE7D;AACE,IAAA,SAAS,EAAEuU,mBADb;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,OAAO,EAAEpB,OAHX;AAIE,IAAA,QAAQ,EAAEH;AAJZ,kBAMEhT,wCAACwU,WAAD;AACE,IAAA,SAAS,EAAC,uBADZ;AAEE,IAAA,IAAI,EAAEC,qBAAe,CAACC,QAFxB;AAGE,IAAA,KAAK,EAAEC,iBAAW,CAACC;AAHrB,KAKGrU,QALH,CANF,CADF;AAgBD;IAEYsU,WAAW,GAAGlB;IACdmB,WAAW,GAAGd;AAE3BM,MAAM,CAAC7T,SAAP,GAAmB;AACjBD,EAAAA,SAAS,EAAEE,6BAAS,CAACC,SAAV,CAAoB,CAC7BD,6BAAS,CAACQ,MADmB,EAE7BR,6BAAS,CAACG,OAAV,CAAkBH,6BAAS,CAACQ,MAA5B,CAF6B,CAApB,CADM;AAKjBqG,EAAAA,IAAI,EAAE7G,6BAAS,CAACqU,KAAV,CAAgB/P,MAAM,CAACgQ,IAAP,CAAYrB,IAAZ,CAAhB,CALW;AAMjBU,EAAAA,IAAI,EAAE3T,6BAAS,CAACqU,KAAV,CAAgB/P,MAAM,CAACgQ,IAAP,CAAYhB,IAAZ,CAAhB,CANW;AAOjBzT,EAAAA,QAAQ,EAAEG,6BAAS,CAACC,SAAV,CAAoB,CAC5BD,6BAAS,CAACQ,MADkB,EAE5BR,6BAAS,CAACE,OAFkB,EAG5BF,6BAAS,CAACG,OAAV,CAAkBH,6BAAS,CAACE,OAA5B,CAH4B,CAApB,CAPO;AAYjBoS,EAAAA,QAAQ,EAAEtS,6BAAS,CAACM,IAZH;AAajBmS,EAAAA,OAAO,EAAEzS,6BAAS,CAACO;AAbF,CAAnB;AAgBAqT,MAAM,CAACnT,YAAP,GAAsB;AACpBX,EAAAA,SAAS,EAAE,EADS;AAEpB+G,EAAAA,IAAI,EAAEoM,IAAI,CAACC,OAFS;AAGpBS,EAAAA,IAAI,EAAEL,IAAI,CAACC,GAHS;AAIpB1T,EAAAA,QAAQ,EAAE,QAJU;AAKpByS,EAAAA,QAAQ,EAAE,KALU;AAMpBG,EAAAA,OAAO,EAAE,mBAAM;AANK,CAAtB;;AChDO,IAAM8B,WAAW,GAAG,SAAdA,WAAc;AAAA,MAAGC,SAAH,QAAGA,SAAH;AAAA,sBACzBlV;AAAK,IAAA,SAAS,EAAC;AAAf,kBACEA,wCAACwU,WAAD;AAAO,IAAA,IAAI,EAAEC,qBAAe,CAACU,GAA7B;AAAkC,IAAA,KAAK,EAAER,iBAAW,CAACS;AAArD,KACGF,SADH,CADF,CADyB;AAAA,CAApB;AAOPD,WAAW,CAACxU,SAAZ,GAAwB;AACtByU,EAAAA,SAAS,EAAExU,6BAAS,CAACQ,MAAV,CAAiBH;AADN,CAAxB;AAIO,IAAMsU,SAAS,GAAG,SAAZA,SAAY;AAAA,MAAG9U,QAAH,SAAGA,QAAH;AAAA,sBACvBP;AAAK,IAAA,SAAS,EAAC;AAAf,KAAuCO,QAAvC,CADuB;AAAA,CAAlB;AAGP8U,SAAS,CAAC5U,SAAV,GAAsB;AACpBF,EAAAA,QAAQ,EAAEG,6BAAS,CAACC,SAAV,CAAoB,CAC5BD,6BAAS,CAACE,OAAV,CAAkBG,UADU,EAE5BL,6BAAS,CAACG,OAAV,CAAkBH,6BAAS,CAACE,OAAV,CAAkBG,UAApC,CAF4B,CAApB;AADU,CAAtB;AAMAsU,SAAS,CAAClU,YAAV,GAAyB;AACvBZ,EAAAA,QAAQ,EAAE;AADa,CAAzB;AAIO,IAAM+U,WAAW,GAAG,SAAdA,WAAc,QAMrB;AAAA,MALJC,QAKI,SALJA,QAKI;AAAA,MAJJC,QAII,SAJJA,QAII;AAAA,6BAHJxC,QAGI;AAAA,MAHJA,QAGI,+BAHO,KAGP;AAAA,MAFJyC,UAEI,SAFJA,UAEI;AAAA,MADJlO,IACI,SADJA,IACI;;AACJ,oBAAsBmO,gBAAU,CAACC,uCAAD,CAAhC;AAAA,MAAQnL,SAAR,eAAQA,SAAR;;AACA,sBACExK;AAAK,IAAA,SAAS,EAAC;AAAf,kBACEA,wCAAC,MAAD;AAAQ,IAAA,IAAI,EAAE6U,WAAW,CAAChB,SAA1B;AAAqC,IAAA,OAAO,EAAE2B;AAA9C,kBACExV,wCAACwU,WAAD;AAAO,IAAA,IAAI,EAAEC,qBAAe,CAACC,QAA7B;AAAuC,IAAA,KAAK,EAAEC,iBAAW,CAACS;AAA1D,KACG5K,SAAS,CAACoL,cADb,CADF,CADF,eAME5V,wCAAC,MAAD;AAAQ,IAAA,IAAI,EAAEuH,IAAd;AAAoB,IAAA,QAAQ,EAAEyL,QAA9B;AAAwC,IAAA,OAAO,EAAEuC;AAAjD,KACGE,UADH,CANF,CADF;AAYD,CApBM;AAsBPH,WAAW,CAAC7U,SAAZ,GAAwB;AACtB+U,EAAAA,QAAQ,EAAE9U,6BAAS,CAACO,IAAV,CAAeF,UADH;AAEtBwU,EAAAA,QAAQ,EAAE7U,6BAAS,CAACO,IAAV,CAAeF,UAFH;AAGtB0U,EAAAA,UAAU,EAAE/U,6BAAS,CAACQ,MAAV,CAAiBH,UAHP;AAItBiS,EAAAA,QAAQ,EAAEtS,6BAAS,CAACM,IAJE;AAKtBuG,EAAAA,IAAI,EAAE7G,6BAAS,CAACQ;AALM,CAAxB;AAOAoU,WAAW,CAACnU,YAAZ,GAA2B;AACzB6R,EAAAA,QAAQ,EAAE,KADe;AAEzBzL,EAAAA,IAAI,EAAEsN,WAAW,CAACf;AAFO,CAA3B;;AAKA,SAAS+B,KAAT,CAAevV,KAAf,EAAsB;AACpB,MACEC,QADF,GASID,KATJ,CACEC,QADF;AAAA,MAEEiV,QAFF,GASIlV,KATJ,CAEEkV,QAFF;AAAA,MAGED,QAHF,GASIjV,KATJ,CAGEiV,QAHF;AAAA,MAIEvC,QAJF,GASI1S,KATJ,CAIE0S,QAJF;AAAA,MAKEyC,UALF,GASInV,KATJ,CAKEmV,UALF;AAAA,MAMEP,SANF,GASI5U,KATJ,CAME4U,SANF;AAAA,MAOEY,UAPF,GASIxV,KATJ,CAOEwV,UAPF;AAAA,MAQEvO,IARF,GASIjH,KATJ,CAQEiH,IARF;AAUA,sBAAOwO,qBAAY,eACjB/V;AAAK,IAAA,SAAS,EAAC;AAAf,kBACEA;AAAK,IAAA,SAAS,EAAC;AAAf,kBACEA,wCAAC,WAAD;AAAa,IAAA,SAAS,EAAEkV;AAAxB,IADF,eAEElV,wCAAC,SAAD,QAAYO,QAAZ,CAFF,EAII,CAACuV,UAAD,iBACE9V,wCAAC,WAAD;AACE,IAAA,QAAQ,EAAEgT,QADZ;AAEE,IAAA,QAAQ,EAAEwC,QAFZ;AAGE,IAAA,QAAQ,EAAED,QAHZ;AAIE,IAAA,UAAU,EAAEE,UAJd;AAKE,IAAA,IAAI,EAAElO;AALR,IALN,eAcEvH;AAAK,IAAA,SAAS,EAAC;AAAf,kBACEA,wCAAC,UAAD;AACE,IAAA,KAAK,EAAC,MADR;AAEE,IAAA,MAAM,EAAC,MAFT;AAGE,IAAA,OAAO,EAAEwV;AAHX,kBAKExV,wCAACgW,UAAD;AACE,IAAA,IAAI,EAAEC,eAAS,CAACC,KADlB;AAEE,IAAA,SAAS,EAAEC,gBAAU,CAACC,OAFxB;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,MAAM,EAAC;AAJT,IALF,CADF,CAdF,CADF,eA8BEpW;AAAK,IAAA,SAAS,EAAC;AAAf,IA9BF,CADiB,EAiChBsM,QAAQ,CAAC+J,cAAT,CAAwB3C,UAAxB,CAjCgB,CAAnB;AAkCD;;AAEDmC,KAAK,CAACpV,SAAN,GAAkB;AAChBF,EAAAA,QAAQ,EAAEG,6BAAS,CAACC,SAAV,CAAoB,CAC5BD,6BAAS,CAACE,OADkB,EAE5BF,6BAAS,CAACG,OAAV,CAAkBH,6BAAS,CAACE,OAA5B,CAF4B,CAApB,CADM;AAKhB4U,EAAAA,QAAQ,EAAE9U,6BAAS,CAACO,IAAV,CAAeF,UALT;AAMhBwU,EAAAA,QAAQ,EAAE7U,6BAAS,CAACO,IAAV,CAAeF,UANT;AAOhB+U,EAAAA,UAAU,EAAEpV,6BAAS,CAACM,IAPN;AAQhBgS,EAAAA,QAAQ,EAAEtS,6BAAS,CAACM,IARJ;AAShBuG,EAAAA,IAAI,EAAE7G,6BAAS,CAACQ;AATA,CAAlB;AAWA2U,KAAK,CAAC1U,YAAN,GAAqB;AACnBZ,EAAAA,QAAQ,EAAE,IADS;AAEnBuV,EAAAA,UAAU,EAAE,KAFO;AAGnB9C,EAAAA,QAAQ,EAAE,KAHS;AAInBzL,EAAAA,IAAI,EAAEsN,WAAW,CAACf;AAJC,CAArB;;IC/HawC,MAAM,GAAG;AACpBlB,EAAAA,cAAc,EAAE,gBADI;AAEpBmB,EAAAA,cAAc,EAAE,gBAFI;AAGpBC,EAAAA,cAAc,EAAE,gBAHI;AAIpBC,EAAAA,cAAc,EAAE,gBAJI;AAKpB7B,EAAAA,WAAW,EAAE,aALO;AAMpBhB,EAAAA,OAAO,EAAE,SANW;AAOpB8C,EAAAA,KAAK,EAAE;AAPa;AAUf,SAASC,sBAAT,CAAgCC,KAAhC,EAAuC;AAC5C,UAAQA,KAAR;AACE,SAAKN,MAAM,CAAClB,cAAZ;AAA4B,aAAO,gCAAP;;AAC5B,SAAKkB,MAAM,CAACC,cAAZ;AAA4B,aAAO,gCAAP;;AAC5B,SAAKD,MAAM,CAACE,cAAZ;AAA4B,aAAO,gCAAP;;AAC5B,SAAKF,MAAM,CAACG,cAAZ;AAA4B,aAAO,gCAAP;;AAC5B,SAAKH,MAAM,CAAC1B,WAAZ;AAAyB,aAAO,6BAAP;;AACzB,SAAK0B,MAAM,CAAC1C,OAAZ;AAAqB,aAAO,yBAAP;;AACrB,SAAK0C,MAAM,CAACI,KAAZ;AAAmB,aAAO,uBAAP;;AACnB;AAAS,aAAO,IAAP;AARX;AAUD;;ACjBc,SAASG,UAAT,OAOZ;AAAA,MANDrW,SAMC,QANDA,SAMC;AAAA,MALDoW,KAKC,QALDA,KAKC;AAAA,MAJD5D,QAIC,QAJDA,QAIC;AAAA,MAHD8D,YAGC,QAHDA,YAGC;AAAA,MAFD3D,OAEC,QAFDA,OAEC;AAAA,MADD5S,QACC,QADDA,QACC;AACD,sBACEP;AACE,IAAA,SAAS,EAAE,iDACL4J,KAAK,CAACC,OAAN,CAAcrJ,SAAd,IAA2BA,SAA3B,GAAuC,CAACA,SAAD,CADlC,IAETmW,sBAAsB,CAACC,KAAD,CAFb,EAGTE,YAAY,GAAG,oCAAH,GAA0C,qBAH7C,EAIT9D,QAAQ,GAAG,+BAAH,GAAqC,EAJpC,GAKTnP,IALS,CAKJ,GALI,CADb;AAOE,IAAA,IAAI,EAAC,QAPP;AAQE,IAAA,QAAQ,EAAE,CARZ;AASE,IAAA,OAAO,EAAEsP,OATX;AAUE,IAAA,UAAU,EAAEA;AAVd,KAYG5S,QAZH,CADF;AAgBD;AAEDsW,UAAU,CAACpW,SAAX,GAAuB;AACrBD,EAAAA,SAAS,EAAEE,6BAAS,CAACC,SAAV,CAAoB,CAC7BD,6BAAS,CAACQ,MADmB,EAE7BR,6BAAS,CAACG,OAAV,CAAkBH,6BAAS,CAACQ,MAA5B,CAF6B,CAApB,CADU;AAKrB0V,EAAAA,KAAK,EAAElW,6BAAS,CAACQ,MALI;AAMrB8R,EAAAA,QAAQ,EAAEtS,6BAAS,CAACM,IANC;AAOrB8V,EAAAA,YAAY,EAAEpW,6BAAS,CAACM,IAPH;AAQrBmS,EAAAA,OAAO,EAAEzS,6BAAS,CAACO,IARE;AASrBV,EAAAA,QAAQ,EAAEG,6BAAS,CAACC,SAAV,CAAoB,CAC5BD,6BAAS,CAACQ,MADkB,EAE5BR,6BAAS,CAACE,OAFkB,CAApB,EAGPG;AAZkB,CAAvB;AAeA8V,UAAU,CAAC1V,YAAX,GAA0B;AACxBX,EAAAA,SAAS,EAAE,EADa;AAExBoW,EAAAA,KAAK,EAAEN,MAAM,CAAClB,cAFU;AAGxBpC,EAAAA,QAAQ,EAAE,KAHc;AAIxB8D,EAAAA,YAAY,EAAE,KAJU;AAKxB3D,EAAAA,OAAO,EAAE,mBAAM;AALS,CAA1B;;IC9Ca4D,kBAAkB,GAAG;IACrBC,iBAAiB,GAAG;IACpBC,iBAAiB,GAAG;IACpBC,mBAAmB,GAAG;IACtBC,cAAc,GAAG;IACjBC,aAAa,GAAG;IAChBC,cAAc,GAAG;;ICLjBC,MAAM,GAAG,SAATA,MAAS,CAACC,KAAD,EAAW;AAC/B,sBAAwBA,KAAxB,CAAQC,MAAR;AAAA,MAAQA,MAAR,8BAAiB,EAAjB;AACA,yBAA0BA,MAA1B,CAAQC,QAAR;AAAA,MAAQA,QAAR,iCAAmB,EAAnB;AACA,MAAQ3S,GAAR,GAAgB2S,QAAhB,CAAQ3S,GAAR;AACA,SAAOA,GAAP;AACD;AAEM,IAAM4S,SAAS,GAAG,SAAZA,SAAY,CAACH,KAAD,EAAW;AAClC,sBAAwBA,KAAxB,CAAQI,MAAR;AAAA,MAAQA,MAAR,8BAAiB,EAAjB;AACA,MAAQC,MAAR,GAAmBD,MAAnB,CAAQC,MAAR;AACA,SAAOA,MAAP;AACD,CAJM;AAOP;;AACO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACN,KAAD;AAAA,SAAW,UAACtN,MAAD,EAAS6N,WAAT;AAAA,WAAyB,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC7F,UAAMnT,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;;AACA,UAAI,CAACzS,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACD,UAAI,CAACJ,WAAL,EAAkB;AAChBhT,QAAAA,GAAG,CAACqT,OAAJ,CAAYlO,MAAZ,EACGmO,IADH,CACQ,UAACC,GAAD;AAAA,iBAASL,OAAO,CAACK,GAAD,CAAhB;AAAA,SADR,EAEGC,KAFH,CAES,UAACC,GAAD;AAAA,iBAASN,MAAM,CAACM,GAAD,CAAf;AAAA,SAFT;AAGD,OAJD,MAIO;AACLzT,QAAAA,GAAG,CAACqT,OAAJ,CAAYlO,MAAZ,EAAoB6N,WAApB,EACGM,IADH,CACQ,UAACC,GAAD;AAAA,iBAASL,OAAO,CAACK,GAAD,CAAhB;AAAA,SADR,EAEGC,KAFH,CAES,UAACC,GAAD;AAAA,iBAASN,MAAM,CAACM,GAAD,CAAf;AAAA,SAFT;AAGD;AACF,KAd6D,CAAzB;AAAA,GAAX;AAAA,CAAnB;;AAiBA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACjB,KAAD;AAAA,SAAW;AAAA,WAAM,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC7E,UAAMnT,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;;AACA,UAAI,CAACzS,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAAC2T,UAAJ,GACGL,IADH,CACQ,UAACC,GAAD;AAAA,eAASL,OAAO,CAACK,GAAD,CAAhB;AAAA,OADR,EAEGC,KAFH,CAES,UAACC,GAAD;AAAA,eAASN,MAAM,CAACM,GAAD,CAAf;AAAA,OAFT;AAGD,KAR6C,CAAN;AAAA,GAAX;AAAA,CAAtB;AAWP;AACA;;AACO,IAAMG,iBAAiB,GAAG,SAApBA,iBAAoB,CAACnB,KAAD;AAAA,SAAW,UAACoB,QAAD,EAAWC,UAAX;AAAA,WAA0B,IAAIb,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACrG,UAAMnT,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;;AACA,UAAI,CAACzS,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAAC+T,qBAAJ,CAA0BF,QAA1B,EAAoCC,UAApC,EACGR,IADH,CACQ,UAACC,GAAD;AAAA,eAASL,OAAO,CAACK,GAAD,CAAhB;AAAA,OADR,EAEGC,KAFH,CAES,UAACC,GAAD;AAAA,eAASN,MAAM,CAACM,GAAD,CAAf;AAAA,OAFT;AAGD,KARqE,CAA1B;AAAA,GAAX;AAAA,CAA1B;AAUA,IAAMO,kBAAkB,GAAG,SAArBA,kBAAqB,CAACvB,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAaC,iBAAb,EAAmC;AAC9E,QAAMlU,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,QAAM0B,MAAM,GAAGvB,SAAS,CAACH,KAAD,CAAxB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAACoU,YAAJ,CAAiBC,UAAjB,CAA4BJ,UAA5B,EACGX,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjB,YAAMoR,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtB,cAAIC,UAAU,GAAG,IAAjB;AACA,cAAMC,cAAc,GAAG,IAAIvB,OAAJ,CAAY,UAACwB,QAAD,EAAWC,OAAX,EAAuB;AACxDH,YAAAA,UAAU,GAAGrR,OAAO,CAACyR,eAAR,CAAwBT,iBAAxB,EAA2C,UAACX,GAAD,EAAME,GAAN,EAAc;AACpE,kBAAMmB,UAAU,GAAG5U,GAAG,CAAC6U,qBAAJ,EAAnB;AACA,kBAAIxW,OAAO,GAAGkV,GAAd;AACA,kBAAIuB,KAAK,GAAGrB,GAAZ;;AACA,kBAAImB,UAAJ,EAAgB;AACdvW,gBAAAA,OAAO,GAAGoV,GAAV;AACAqB,gBAAAA,KAAK,GAAGvB,GAAR;AACD;;AACD,kBAAIuB,KAAJ,EAAW;AACTJ,gBAAAA,OAAO,CAACI,KAAD,CAAP;AACA;AACD;;AACDL,cAAAA,QAAQ,CAACpW,OAAD,CAAR;AACA8V,cAAAA,MAAM,CAACY,OAAP,CACEC,iBADF,EAEE;AACE3W,gBAAAA,OAAO,EAAPA,OADF;AAEE6E,gBAAAA,OAAO,EAAPA;AAFF,eAFF;AAOD,aApBY,CAAb;AAqBAiR,YAAAA,MAAM,CAACY,OAAP,CACEC,kBADF,EAEE;AACE3W,cAAAA,OAAO,EAAEkW,UADX;AAEErR,cAAAA,OAAO,EAAPA;AAFF,aAFF;AAOD,WA7BsB,CAAvB;;AA8BAsR,UAAAA,cAAc,CAAC1O,GAAf,GAAqB;AAAA,mBAAMyO,UAAN;AAAA,WAArB;;AACA,iBAAOC,cAAP;AACD,SAlCD;;AAmCAtB,QAAAA,OAAO,CAACoB,SAAS,EAAV,CAAP;AACD,OAtCH,EAuCGd,KAvCH,CAuCSL,MAvCT;AAwCD,KA5CM,CAAP;AA6CD,GAhDiC;AAAA,CAA3B;AAiDA,IAAM8B,kBAAkB,GAAG,SAArBA,kBAAqB,CAACxC,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAaiB,iBAAb,EAAmC;AAC9E,QAAMlV,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,QAAM0B,MAAM,GAAGvB,SAAS,CAACH,KAAD,CAAxB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAACoU,YAAJ,CAAiBC,UAAjB,CAA4BJ,UAA5B,EACGX,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjB,YAAMoR,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtB,cAAIC,UAAU,GAAG,IAAjB;AACA,cAAMC,cAAc,GAAG,IAAIvB,OAAJ,CAAY,UAACwB,QAAD,EAAWC,OAAX,EAAuB;AACxDH,YAAAA,UAAU,GAAGrR,OAAO,CAACiS,eAAR,CAAwBD,iBAAxB,EAA2C,UAAC3B,GAAD,EAAME,GAAN,EAAc;AACpE,kBAAMmB,UAAU,GAAG5U,GAAG,CAAC6U,qBAAJ,EAAnB;AACA,kBAAIxW,OAAO,GAAGkV,GAAd;AACA,kBAAIuB,KAAK,GAAGrB,GAAZ;;AACA,kBAAImB,UAAJ,EAAgB;AACdvW,gBAAAA,OAAO,GAAGoV,GAAV;AACAqB,gBAAAA,KAAK,GAAGvB,GAAR;AACD;;AAED,kBAAIuB,KAAJ,EAAW;AACTJ,gBAAAA,OAAO,CAACI,KAAD,CAAP;AACA;AACD;;AACDL,cAAAA,QAAQ,CAACpW,OAAD,CAAR;AACA8V,cAAAA,MAAM,CAACY,OAAP,CACEC,iBADF,EAEE;AACE3W,gBAAAA,OAAO,EAAPA,OADF;AAEE6E,gBAAAA,OAAO,EAAPA;AAFF,eAFF;AAOD,aArBY,CAAb;AAsBD,WAvBsB,CAAvB;;AAwBA,cAAIgS,iBAAiB,CAACE,IAAtB,EAA4B;AAC1B;AACA;AACA;AACAb,YAAAA,UAAU,CAACc,QAAX,GAAsBC,GAAG,CAACC,eAAJ,CAAoBL,iBAAiB,CAACE,IAAtC,CAAtB;AACD;;AACD,cAAIF,iBAAiB,CAACM,OAAtB,EAA+B;AAC7B;AACAjB,YAAAA,UAAU,CAACc,QAAX,GAAsBH,iBAAiB,CAACM,OAAxC;AACD,WAnCqB;;;AAqCtBjB,UAAAA,UAAU,CAACkB,YAAX,GAA0B,SAA1B;AACAtB,UAAAA,MAAM,CAACY,OAAP,CACEC,kBADF,EAEE;AACE3W,YAAAA,OAAO,EAAEkW,UADX;AAEErR,YAAAA,OAAO,EAAPA;AAFF,WAFF;;AAOAsR,UAAAA,cAAc,CAAC1O,GAAf,GAAqB;AAAA,mBAAMyO,UAAN;AAAA,WAArB;;AACA,iBAAOC,cAAP;AACD,SA/CD;;AAgDAtB,QAAAA,OAAO,CAACoB,SAAS,EAAV,CAAP;AACD,OAnDH,EAoDGd,KApDH,CAoDSL,MApDT;AAqDD,KAzDM,CAAP;AA0DD,GA7DiC;AAAA,CAA3B;AA8DA,IAAMuC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACjD,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAa0B,SAAb,EAAwBtL,MAAxB,EAAmC;AAChF,QAAMrK,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,QAAM0B,MAAM,GAAGvB,SAAS,CAACH,KAAD,CAAxB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAACoU,YAAJ,CAAiBC,UAAjB,CAA4BJ,UAA5B,EACGX,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjBA,QAAAA,OAAO,CAAC0S,iBAAR,CAA0BD,SAA1B,EAAqCtL,MAArC,EAA6C,UAACkJ,GAAD,EAAME,GAAN,EAAc;AACzD,cAAMmB,UAAU,GAAG5U,GAAG,CAAC6U,qBAAJ,EAAnB;AACA,cAAIxW,OAAO,GAAGkV,GAAd;AACA,cAAIuB,KAAK,GAAGrB,GAAZ;;AACA,cAAImB,UAAJ,EAAgB;AACdvW,YAAAA,OAAO,GAAGoV,GAAV;AACAqB,YAAAA,KAAK,GAAGvB,GAAR;AACD;;AAED,cAAIuB,KAAJ,EAAW;AACT3B,YAAAA,MAAM,CAAC2B,KAAD,CAAN;AACA;AACD;;AACD5B,UAAAA,OAAO,CAAC7U,OAAD,CAAP;AACA8V,UAAAA,MAAM,CAACY,OAAP,CACEC,mBADF,EAEE;AACE3W,YAAAA,OAAO,EAAPA,OADF;AAEE6E,YAAAA,OAAO,EAAPA,OAFF;AAGE;AACA;AACA2S,YAAAA,YAAY,EAAE;AALhB,WAFF;AAUD,SAxBD;AAyBD,OA3BH,EA4BGrC,KA5BH,CA4BSL,MA5BT;AA6BD,KAjCM,CAAP;AAkCD,GArCmC;AAAA,CAA7B;AAsCA,IAAM2C,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACrD,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAa5V,OAAb,EAAyB;AAClE,QAAM2B,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,QAAM0B,MAAM,GAAGvB,SAAS,CAACH,KAAD,CAAxB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAACoU,YAAJ,CAAiBC,UAAjB,CAA4BJ,UAA5B,EACGX,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjB,YAAQyS,SAAR,GAAsBtX,OAAtB,CAAQsX,SAAR;AACAzS,QAAAA,OAAO,CAAC6S,aAAR,CAAsB1X,OAAtB,EAA+B,UAACkV,GAAD,EAAME,GAAN,EAAc;AAC3C,cAAMmB,UAAU,GAAG5U,GAAG,CAAC6U,qBAAJ,EAAnB;AACA,cAAIC,KAAK,GAAGrB,GAAZ;;AACA,cAAImB,UAAJ,EAAgB;AACdE,YAAAA,KAAK,GAAGvB,GAAR;AACD;;AAED,cAAIuB,KAAJ,EAAW;AACT3B,YAAAA,MAAM,CAAC2B,KAAD,CAAN;AACA;AACD;;AACD5B,UAAAA,OAAO,CAAC7U,OAAD,CAAP;AACA8V,UAAAA,MAAM,CAACY,OAAP,CACEC,cADF,EAEE;AACEW,YAAAA,SAAS,EAATA,SADF;AAEEzS,YAAAA,OAAO,EAAPA;AAFF,WAFF;AAOD,SAnBD;AAoBD,OAvBH,EAwBGsQ,KAxBH,CAwBSL,MAxBT;AAyBD,KA7BM,CAAP;AA8BD,GAjC+B;AAAA,CAAzB;AAmCA,IAAM6C,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACvD,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAagC,aAAb,EAA+B;AAC5E,QAAMjW,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,QAAM0B,MAAM,GAAGvB,SAAS,CAACH,KAAD,CAAxB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAACoU,YAAJ,CAAiBC,UAAjB,CAA4BJ,UAA5B,EACGX,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjBA,QAAAA,OAAO,CAACgT,iBAAR,CAA0BD,aAA1B,EACG3C,IADH,CACQ,UAACjV,OAAD,EAAa;AACjB6U,UAAAA,OAAO,CAAC7U,OAAD,CAAP;AACA8V,UAAAA,MAAM,CAACY,OAAP,CACEC,iBADF,EAEE;AACE3W,YAAAA,OAAO,EAAPA,OADF;AAEE6E,YAAAA,OAAO,EAAPA;AAFF,WAFF;AAOD,SAVH,EAWGsQ,KAXH,CAWSL,MAXT;AAYD,OAdH,EAeGK,KAfH,CAeSL,MAfT;AAgBD,KApBM,CAAP;AAqBD,GAxBmC;AAAA,CAA7B;AA0BA,IAAMgD,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAC1D,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAagC,aAAb,EAA+B;AAC5E,QAAMjW,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,QAAM0B,MAAM,GAAGvB,SAAS,CAACH,KAAD,CAAxB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAACoU,YAAJ,CAAiBC,UAAjB,CAA4BJ,UAA5B,EACGX,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjBA,QAAAA,OAAO,CAACkT,iBAAR,CAA0BH,aAA1B,EACG3C,IADH,CACQ,UAACjV,OAAD,EAAa;AACjB6U,UAAAA,OAAO,CAAC7U,OAAD,CAAP;AACA8V,UAAAA,MAAM,CAACY,OAAP,CACEC,iBADF,EAEE;AACE3W,YAAAA,OAAO,EAAPA,OADF;AAEE6E,YAAAA,OAAO,EAAPA;AAFF,WAFF;AAOD,SAVH,EAWGsQ,KAXH,CAWSL,MAXT;AAYD,OAdH,EAeGK,KAfH,CAeSL,MAfT;AAgBD,KApBM,CAAP;AAqBD,GAxBmC;AAAA,CAA7B;AA0BA,IAAMkD,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAC5D,KAAD;AAAA,SAAW,UAACpI,MAAD,EAAY;AACrD,QAAMrK,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,QAAM0B,MAAM,GAAGvB,SAAS,CAACH,KAAD,CAAxB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAACoU,YAAJ,CAAiBkC,aAAjB,CAA+BjM,MAA/B,EACGiJ,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjBgQ,QAAAA,OAAO,CAAChQ,OAAD,CAAP;AACAiR,QAAAA,MAAM,CAACY,OAAP,CACEC,cADF,EAEE;AACE9R,UAAAA,OAAO,EAAPA;AADF,SAFF;AAMD,OATH,EAUGsQ,KAVH,CAUSL,MAVT;AAWD,KAfM,CAAP;AAgBD,GAnB+B;AAAA,CAAzB;AAqBA,IAAMoD,eAAe,GAAG,SAAlBA,eAAkB,CAAC9D,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAgB;AACxD,QAAMjU,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,QAAM0B,MAAM,GAAGvB,SAAS,CAACH,KAAD,CAAxB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAACoU,YAAJ,CAAiBC,UAAjB,CAA4BJ,UAA5B,EACGX,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjBA,QAAAA,OAAO,CAACsT,KAAR,GACGlD,IADH,CACQ,YAAM;AACVJ,UAAAA,OAAO,CAAChQ,OAAD,CAAP;AACAiR,UAAAA,MAAM,CAACY,OAAP,CACEC,aADF,EAEE;AACE9R,YAAAA,OAAO,EAAPA;AADF,WAFF;AAMD,SATH,EAUGsQ,KAVH,CAUSL,MAVT;AAWD,OAbH,EAcGK,KAdH,CAcSL,MAdT;AAeD,KAnBM,CAAP;AAoBD,GAvB8B;AAAA,CAAxB;AAyBA,IAAMsD,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAChE,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAgB;AACzD,QAAMjU,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAACoU,YAAJ,CAAiBC,UAAjB,CAA4BJ,UAA5B,EACGX,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjBA,QAAAA,OAAO,CAACwT,MAAR,GACGpD,IADH,CACQ,YAAM;AACV;AACAJ,UAAAA,OAAO,CAAChQ,OAAD,CAAP;AACD,SAJH,EAKGsQ,KALH,CAKSL,MALT;AAMD,OARH,EASGK,KATH,CASSL,MATT;AAUD,KAdM,CAAP;AAeD,GAjB+B;AAAA,CAAzB;AAmBA,IAAMwD,kBAAkB,GAAG,SAArBA,kBAAqB,CAAClE,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAgB;AAC3D,QAAMjU,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAACoU,YAAJ,CAAiBC,UAAjB,CAA4BJ,UAA5B,EACGX,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjBA,QAAAA,OAAO,CAAC0T,QAAR,GACGtD,IADH,CACQ,YAAM;AACV;AACAJ,UAAAA,OAAO,CAAChQ,OAAD,CAAP;AACD,SAJH,EAKGsQ,KALH,CAKSL,MALT;AAMD,OARH,EASGK,KATH,CASSL,MATT;AAUD,KAdM,CAAP;AAeD,GAjBiC;AAAA,CAA3B;AAmBA,IAAM0D,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACpE,KAAD;AAAA,SAAW,UAACpI,MAAD,EAAY;AACzD,QAAMrK,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAAC8W,WAAJ,CAAgBR,aAAhB,CAA8BjM,MAA9B,EACGiJ,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjBgQ,QAAAA,OAAO,CAAChQ,OAAD,CAAP;AACD,OAHH,EAIGsQ,KAJH,CAISL,MAJT;AAKD,KATM,CAAP;AAUD,GAZmC;AAAA,CAA7B;AAaA,IAAM4D,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACtE,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAgB;AACzD,QAAMjU,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAAC8W,WAAJ,CAAgBzC,UAAhB,CAA2BJ,UAA3B,EAAuC,UAAC+C,WAAD,EAAclC,KAAd,EAAwB;AAC7D,YAAIA,KAAJ,EAAW;AACT3B,UAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU0B,KAAV,CAAD,CAAN;AACA;AACD;;AAEDkC,QAAAA,WAAW,CAACC,KAAZ,CAAkB,UAACC,QAAD,EAAWC,UAAX,EAA0B;AAC1C,cAAIrC,KAAJ,EAAW;AACT3B,YAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU+D,UAAV,CAAD,CAAN;AACA;AACD;;AACDjE,UAAAA,OAAO,CAACgE,QAAD,CAAP;AACD,SAND;AAOD,OAbD;AAcD,KAlBM,CAAP;AAmBD,GArB+B;AAAA,CAAzB;AAuBA,IAAME,eAAe,GAAG,SAAlBA,eAAkB,CAAC3E,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAgB;AACxD,QAAMjU,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAAC8W,WAAJ,CAAgBzC,UAAhB,CAA2BJ,UAA3B,EAAuC,UAAC+C,WAAD,EAAclC,KAAd,EAAwB;AAC7D,YAAIA,KAAJ,EAAW;AACT3B,UAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU0B,KAAV,CAAD,CAAN;AACA;AACD;;AAEDkC,QAAAA,WAAW,CAACK,IAAZ,CAAiB,UAACH,QAAD,EAAWI,SAAX,EAAyB;AACxC,cAAIxC,KAAJ,EAAW;AACT3B,YAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAUkE,SAAV,CAAD,CAAN;AACA;AACD;;AACDpE,UAAAA,OAAO,CAACgE,QAAD,CAAP;AACD,SAND;AAOD,OAbD;AAcD,KAlBM,CAAP;AAmBD,GArB8B;AAAA,CAAxB;AAuBA,IAAMK,6BAA6B,GAAG,SAAhCA,6BAAgC,CAAC9E,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAaC,iBAAb,EAAmC;AACzF,QAAMlU,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,QAAM0B,MAAM,GAAGvB,SAAS,CAACH,KAAD,CAAxB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAAC8W,WAAJ,CAAgBzC,UAAhB,CAA2BJ,UAA3B,EACGX,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjB,YAAMoR,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtB,cAAIC,UAAU,GAAG,IAAjB;AACA,cAAMC,cAAc,GAAG,IAAIvB,OAAJ,CAAY,UAACwB,QAAD,EAAWC,OAAX,EAAuB;AACxDH,YAAAA,UAAU,GAAGrR,OAAO,CAACyR,eAAR,CAAwBT,iBAAxB,EAA2C,UAACX,GAAD,EAAME,GAAN,EAAc;AACpE,kBAAMmB,UAAU,GAAG5U,GAAG,CAAC6U,qBAAJ,EAAnB;AACA,kBAAIxW,OAAO,GAAGkV,GAAd;AACA,kBAAIuB,KAAK,GAAGrB,GAAZ;;AACA,kBAAImB,UAAJ,EAAgB;AACdvW,gBAAAA,OAAO,GAAGoV,GAAV;AACAqB,gBAAAA,KAAK,GAAGvB,GAAR;AACD;;AACD,kBAAIuB,KAAJ,EAAW;AACTJ,gBAAAA,OAAO,CAACI,KAAD,CAAP;AACA;AACD;;AACDL,cAAAA,QAAQ,CAACpW,OAAD,CAAR;AACA8V,cAAAA,MAAM,CAACY,OAAP,CACEC,iBADF,EAEE;AACE3W,gBAAAA,OAAO,EAAPA,OADF;AAEE6E,gBAAAA,OAAO,EAAPA;AAFF,eAFF;AAOD,aApBY,CAAb;AAqBAiR,YAAAA,MAAM,CAACY,OAAP,CACEC,kBADF,EAEE;AACE3W,cAAAA,OAAO,EAAEkW,UADX;AAEErR,cAAAA,OAAO,EAAPA;AAFF,aAFF;AAOD,WA7BsB,CAAvB;;AA8BAsR,UAAAA,cAAc,CAAC1O,GAAf,GAAqB;AAAA,mBAAMyO,UAAN;AAAA,WAArB;;AACA,iBAAOC,cAAP;AACD,SAlCD;;AAmCAtB,QAAAA,OAAO,CAACoB,SAAS,EAAV,CAAP;AACD,OAtCH,EAuCGd,KAvCH,CAuCSL,MAvCT;AAwCD,KA5CM,CAAP;AA6CD,GAhD4C;AAAA,CAAtC;AAkDA,IAAMqE,6BAA6B,GAAG,SAAhCA,6BAAgC,CAAC/E,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAaiB,iBAAb,EAAmC;AACzF,QAAMlV,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,QAAM0B,MAAM,GAAGvB,SAAS,CAACH,KAAD,CAAxB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAAC8W,WAAJ,CAAgBzC,UAAhB,CAA2BJ,UAA3B,EACGX,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjB,YAAMoR,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtB,cAAIC,UAAU,GAAG,IAAjB;AACA,cAAMC,cAAc,GAAG,IAAIvB,OAAJ,CAAY,UAACwB,QAAD,EAAWC,OAAX,EAAuB;AACxDH,YAAAA,UAAU,GAAGrR,OAAO,CAACiS,eAAR,CAAwBD,iBAAxB,EAA2C,UAAC3B,GAAD,EAAME,GAAN,EAAc;AACpE,kBAAMmB,UAAU,GAAG5U,GAAG,CAAC6U,qBAAJ,EAAnB;AACA,kBAAIxW,OAAO,GAAGkV,GAAd;AACA,kBAAIuB,KAAK,GAAGrB,GAAZ;;AACA,kBAAImB,UAAJ,EAAgB;AACdvW,gBAAAA,OAAO,GAAGoV,GAAV;AACAqB,gBAAAA,KAAK,GAAGvB,GAAR;AACD;;AAED,kBAAIuB,KAAJ,EAAW;AACTJ,gBAAAA,OAAO,CAACI,KAAD,CAAP;AACA;AACD;;AACDL,cAAAA,QAAQ,CAACpW,OAAD,CAAR;AACA8V,cAAAA,MAAM,CAACY,OAAP,CACEC,iBADF,EAEE;AACE3W,gBAAAA,OAAO,EAAPA,OADF;AAEE6E,gBAAAA,OAAO,EAAPA;AAFF,eAFF;AAOD,aArBY,CAAb;AAsBD,WAvBsB,CAAvB;;AAwBA,cAAIgS,iBAAiB,CAACE,IAAtB,EAA4B;AAC1B;AACA;AACA;AACAb,YAAAA,UAAU,CAACc,QAAX,GAAsBC,GAAG,CAACC,eAAJ,CAAoBL,iBAAiB,CAACE,IAAtC,CAAtB;AACD;;AACD,cAAIF,iBAAiB,CAACM,OAAtB,EAA+B;AAC7B;AACAjB,YAAAA,UAAU,CAACc,QAAX,GAAsBH,iBAAiB,CAACM,OAAxC;AACD,WAnCqB;;;AAqCtBjB,UAAAA,UAAU,CAACkB,YAAX,GAA0B,SAA1B;AACAtB,UAAAA,MAAM,CAACY,OAAP,CACEC,kBADF,EAEE;AACE3W,YAAAA,OAAO,EAAEkW,UADX;AAEErR,YAAAA,OAAO,EAAPA;AAFF,WAFF;;AAOAsR,UAAAA,cAAc,CAAC1O,GAAf,GAAqB;AAAA,mBAAMyO,UAAN;AAAA,WAArB;;AACA,iBAAOC,cAAP;AACD,SA/CD;;AAgDAtB,QAAAA,OAAO,CAACoB,SAAS,EAAV,CAAP;AACD,OAnDH,EAoDGd,KApDH,CAoDSL,MApDT;AAqDD,KAzDM,CAAP;AA0DD,GA7D4C;AAAA,CAAtC;AA+DA,IAAMsE,+BAA+B,GAAG,SAAlCA,+BAAkC,CAAChF,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAa0B,SAAb,EAAwBtL,MAAxB,EAAmC;AAC3F,QAAMrK,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,QAAM0B,MAAM,GAAGvB,SAAS,CAACH,KAAD,CAAxB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAAC8W,WAAJ,CAAgBzC,UAAhB,CAA2BJ,UAA3B,EACGX,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjBA,QAAAA,OAAO,CAAC0S,iBAAR,CAA0BD,SAA1B,EAAqCtL,MAArC,EAA6C,UAACkJ,GAAD,EAAME,GAAN,EAAc;AACzD,cAAMmB,UAAU,GAAG5U,GAAG,CAAC6U,qBAAJ,EAAnB;AACA,cAAIxW,OAAO,GAAGkV,GAAd;AACA,cAAIuB,KAAK,GAAGrB,GAAZ;;AACA,cAAImB,UAAJ,EAAgB;AACdvW,YAAAA,OAAO,GAAGoV,GAAV;AACAqB,YAAAA,KAAK,GAAGvB,GAAR;AACD;;AAED,cAAIuB,KAAJ,EAAW;AACT3B,YAAAA,MAAM,CAAC2B,KAAD,CAAN;AACA;AACD;;AACD5B,UAAAA,OAAO,CAAC7U,OAAD,CAAP;AACA8V,UAAAA,MAAM,CAACY,OAAP,CACEC,mBADF,EAEE;AACE3W,YAAAA,OAAO,EAAPA,OADF;AAEE6E,YAAAA,OAAO,EAAPA,OAFF;AAGE;AACA;AACA2S,YAAAA,YAAY,EAAE;AALhB,WAFF;AAUD,SAxBD;AAyBD,OA3BH,EA4BGrC,KA5BH,CA4BSL,MA5BT;AA6BD,KAjCM,CAAP;AAkCD,GArC8C;AAAA,CAAxC;AAuCA,IAAMuE,2BAA2B,GAAG,SAA9BA,2BAA8B,CAACjF,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAa5V,OAAb,EAAyB;AAC7E,QAAM2B,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,QAAM0B,MAAM,GAAGvB,SAAS,CAACH,KAAD,CAAxB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAACoU,YAAJ,CAAiBC,UAAjB,CAA4BJ,UAA5B,EACGX,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjB,YAAQyS,SAAR,GAAsBtX,OAAtB,CAAQsX,SAAR;AACAzS,QAAAA,OAAO,CAAC6S,aAAR,CAAsB1X,OAAtB,EAA+B,UAACkV,GAAD,EAAME,GAAN,EAAc;AAC3C,cAAMmB,UAAU,GAAG5U,GAAG,CAAC6U,qBAAJ,EAAnB;AACA,cAAIC,KAAK,GAAGrB,GAAZ;;AACA,cAAImB,UAAJ,EAAgB;AACdE,YAAAA,KAAK,GAAGvB,GAAR;AACD;;AAED,cAAIuB,KAAJ,EAAW;AACT3B,YAAAA,MAAM,CAAC2B,KAAD,CAAN;AACA;AACD;;AACD5B,UAAAA,OAAO,CAAC7U,OAAD,CAAP;AACA8V,UAAAA,MAAM,CAACY,OAAP,CACEC,cADF,EAEE;AACEW,YAAAA,SAAS,EAATA,SADF;AAEEzS,YAAAA,OAAO,EAAPA;AAFF,WAFF;AAOD,SAnBD;AAoBD,OAvBH,EAwBGsQ,KAxBH,CAwBSL,MAxBT;AAyBD,KA7BM,CAAP;AA8BD,GAjC0C;AAAA,CAApC;AAmCA,IAAMwE,+BAA+B,GAAG,SAAlCA,+BAAkC,CAAClF,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAagC,aAAb,EAA+B;AACvF,QAAMjW,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,QAAM0B,MAAM,GAAGvB,SAAS,CAACH,KAAD,CAAxB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAAC8W,WAAJ,CAAgBzC,UAAhB,CAA2BJ,UAA3B,EACGX,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjBA,QAAAA,OAAO,CAACgT,iBAAR,CAA0BD,aAA1B,EACG3C,IADH,CACQ,UAACjV,OAAD,EAAa;AACjB6U,UAAAA,OAAO,CAAC7U,OAAD,CAAP;AACA8V,UAAAA,MAAM,CAACY,OAAP,CACEC,iBADF,EAEE;AACE3W,YAAAA,OAAO,EAAPA,OADF;AAEE6E,YAAAA,OAAO,EAAPA;AAFF,WAFF;AAOD,SAVH,EAWGsQ,KAXH,CAWSL,MAXT;AAYD,OAdH,EAeGK,KAfH,CAeSL,MAfT;AAgBD,KApBM,CAAP;AAqBD,GAxB8C;AAAA,CAAxC;AA0BA,IAAMyE,+BAA+B,GAAG,SAAlCA,+BAAkC,CAACnF,KAAD;AAAA,SAAW,UAACwB,UAAD,EAAagC,aAAb,EAA+B;AACvF,QAAMjW,GAAG,GAAGwS,MAAM,CAACC,KAAD,CAAlB;AACA,QAAM0B,MAAM,GAAGvB,SAAS,CAACH,KAAD,CAAxB;AACA,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAI,CAACnT,GAAL,EAAU;AACRmT,QAAAA,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAN;AACD;;AACDpT,MAAAA,GAAG,CAAC8W,WAAJ,CAAgBzC,UAAhB,CAA2BJ,UAA3B,EACGX,IADH,CACQ,UAACpQ,OAAD,EAAa;AACjBA,QAAAA,OAAO,CAACkT,iBAAR,CAA0BH,aAA1B,EACG3C,IADH,CACQ,UAACjV,OAAD,EAAa;AACjB6U,UAAAA,OAAO,CAAC7U,OAAD,CAAP;AACA8V,UAAAA,MAAM,CAACY,OAAP,CACEC,iBADF,EAEE;AACE3W,YAAAA,OAAO,EAAPA,OADF;AAEE6E,YAAAA,OAAO,EAAPA;AAFF,WAFF;AAOD,SAVH,EAWGsQ,KAXH,CAWSL,MAXT;AAYD,OAdH,EAeGK,KAfH,CAeSL,MAfT;AAgBD,KApBM,CAAP;AAqBD,GAxB8C;AAAA,CAAxC;AA0BP,gBAAe;AACbX,EAAAA,MAAM,EAANA,MADa;AAEbO,EAAAA,UAAU,EAAVA,UAFa;AAGbW,EAAAA,aAAa,EAAbA,aAHa;AAIbE,EAAAA,iBAAiB,EAAjBA,iBAJa;AAKbI,EAAAA,kBAAkB,EAAlBA,kBALa;AAMbiB,EAAAA,kBAAkB,EAAlBA,kBANa;AAObS,EAAAA,oBAAoB,EAApBA,oBAPa;AAQbI,EAAAA,gBAAgB,EAAhBA,gBARa;AASbE,EAAAA,oBAAoB,EAApBA,oBATa;AAUbG,EAAAA,oBAAoB,EAApBA,oBAVa;AAWbM,EAAAA,gBAAgB,EAAhBA,gBAXa;AAYbE,EAAAA,kBAAkB,EAAlBA,kBAZa;AAabN,EAAAA,gBAAgB,EAAhBA,gBAba;AAcbE,EAAAA,eAAe,EAAfA,eAda;AAebM,EAAAA,oBAAoB,EAApBA,oBAfa;AAgBbgB,EAAAA,mBAAmB,EAAEd,gBAhBR;AAiBbe,EAAAA,kBAAkB,EAAEV,eAjBP;AAkBbG,EAAAA,6BAA6B,EAA7BA,6BAlBa;AAmBbC,EAAAA,6BAA6B,EAA7BA,6BAnBa;AAoBbC,EAAAA,+BAA+B,EAA/BA,+BApBa;AAqBbC,EAAAA,2BAA2B,EAA3BA,2BArBa;AAsBbC,EAAAA,+BAA+B,EAA/BA,+BAtBa;AAuBbC,EAAAA,+BAA+B,EAA/BA;AAvBa,CAAf;;AC1oBA,SAASG,WAAT,CAAqB1Y,EAArB;MACE+J,IAAI;MACJuB,aAAa;MACb3K,GAAG;MACHgY,MAAM;MACNC;MAAAC,gBAAgB,mBAAG;MACnB5B,aAAa;MACb6B,SAAS;AAED,MAAAzS,SAAS,GAAKkL,gBAAU,CAACC,uCAAD,CAAV,UAAd;AACR,sBACE3V;AAAK,IAAA,SAAS,EAAC;AAAf,kBACEA;AAAS,IAAA,SAAS,EAAC;AAAnB,kBACEA,wCAACkd,YAAD;AACE,IAAA,MAAM,EAAC,MADT;AAEE,IAAA,KAAK,EAAC,MAFR;AAGE,IAAA,GAAG,EAAEhP,IAAI,CAAC0K;AAHZ,IADF,CADF,eAQE5Y;AAAS,IAAA,SAAS,EAAC;AAAnB,kBACEA,wCAACwU,WAAD;AACE,IAAA,IAAI,EAAEC,qBAAe,CAAC0I,GADxB;AAEE,IAAA,KAAK,EAAExI,iBAAW,CAACS;AAFrB,KAIGlH,IAAI,CAACE,QAAL,IAAiB5D,SAAS,CAAC4S,OAJ9B,CADF,CARF,EAiBKlP,IAAI,CAACjE,MAAL,KAAgBwF,aAAjB,IAAmC,CAACuN,gBAApC,iBACEhd;AAAS,IAAA,SAAS,EAAC;AAAnB,kBACEA,wCAAC,MAAD;AACE,IAAA,IAAI,EAAE6U,WAAW,CAAChB,SADpB;AAEE,IAAA,OAAO,EAAE;AACP,UAAM1E,MAAM,GAAG,IAAIrK,GAAG,CAACuY,kBAAR,EAAf;AACAlO,MAAAA,MAAM,CAACmO,UAAP,GAAoB,IAApB;AACAnO,MAAAA,MAAM,CAACoO,UAAP,CAAkB,CAACrP,IAAI,CAACjE,MAAN,CAAlB;AACAgT,MAAAA,SAAS;AACT7B,MAAAA,aAAa,CAACjM,MAAD,CAAb,CACGiJ,IADH,CACQ,UAACoF,YAAD;AACJV,QAAAA,MAAM,CAACW,IAAP,CAAY,6BAAZ,EAA2CD,YAA3C;AACD,OAHH;AAID;AAXH,KAaGhT,SAAS,CAACkT,qBAbb,CADF,CAlBN,eAqCE1d;AAAK,IAAA,SAAS,EAAC;AAAf,IArCF,eAsCEA;AAAS,IAAA,SAAS,EAAC;AAAnB,kBACEA,wCAACwU,WAAD;AACE,IAAA,SAAS,EAAC,sCADZ;AAEE,IAAA,IAAI,EAAEC,qBAAe,CAACkJ,SAFxB;AAGE,IAAA,KAAK,EAAEhJ,iBAAW,CAAC4B;AAHrB,KAKG/L,SAAS,CAACoT,qBALb,CADF,eAQE5d,wCAACwU,WAAD;AACE,IAAA,SAAS,EAAC,sCADZ;AAEE,IAAA,IAAI,EAAEC,qBAAe,CAACoJ,MAFxB;AAGE,IAAA,KAAK,EAAElJ,iBAAW,CAACS;AAHrB,KAKGlH,IAAI,CAACjE,MALR,CARF,CAtCF,CADF;AAyDD;;AAED,IAAM6T,eAAe,GAAG,SAAlBA,eAAkB,CAACvG,KAAD;AAAW,SAAC;AAClCzS,IAAAA,GAAG,EAAEwS,MAAM,CAACC,KAAD,CADuB;AAElC6D,IAAAA,aAAa,EAAED,gBAAgB,CAAC5D,KAAD,CAFG;AAGlCuF,IAAAA,MAAM,EAAEvF,KAAK,CAACI,MAAN,CAAamF,MAHa;AAIlC7D,IAAAA,MAAM,EAAE1B,KAAK,CAACI,MAAN,CAAaC;AAJa,GAAD;AAKjC,CALF;;IAOMmG,oBAAoB,GAAGC,uCAAmB,CAACnB,WAAD,EAAciB,eAAd;;ICjG3BG;;;;;AACnB,qBAAY3d,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,yGAoBN,YAAM;AACjB,kCAAkC,MAAKA,KAAvC,CAAQ4d,gBAAR;AAAA,UAAQA,gBAAR,sCAA2B,EAA3B;AACA,UAAQC,OAAR,GAAoBD,gBAApB,CAAQC,OAAR;;AACA,UAAID,gBAAgB,IAAIC,OAAxB,EAAiC;AAC/BA,QAAAA,OAAO,CAACC,SAAR,CAAkBC,GAAlB,CAAsB,wBAAtB;AACD;AACF,KA1BkB;;AAAA,yGA4BN,YAAM;AACjB,mCAAkC,MAAK/d,KAAvC,CAAQ4d,gBAAR;AAAA,UAAQA,gBAAR,uCAA2B,EAA3B;AACA,UAAQC,OAAR,GAAoBD,gBAApB,CAAQC,OAAR;;AACA,UAAID,gBAAgB,IAAIC,OAAxB,EAAiC;AAC/BA,QAAAA,OAAO,CAACC,SAAR,CAAkBE,MAAlB,CAAyB,wBAAzB;AACD;AACF,KAlCkB;;AAAA,0GAoCL,YAAM;AAClB,UAAQC,aAAR,GAA0B,MAAKje,KAA/B,CAAQie,aAAR;;AACA;AAAA,UAAQC,OAAR,yBAAQA,OAAR;;AACA,UAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,KAAD,EAAW;AACpC,YAAIF,OAAO,CAACL,OAAR,IAAmB,CAACK,OAAO,CAACL,OAAR,CAAgBQ,QAAhB,CAAyBD,KAAK,CAACE,MAA/B,CAAxB,EAAgE;AAC9DL,UAAAA,aAAa;AACd;AACF,OAJD;;AAKA,YAAKM,QAAL,CAAc;AACZJ,QAAAA,kBAAkB,EAAlBA;AADY,OAAd;;AAIAnS,MAAAA,QAAQ,CAACwS,gBAAT,CAA0B,WAA1B,EAAuCL,kBAAvC;AACD,KAjDkB;;AAAA,4GAmDH,YAAM;AACpB,UACEA,kBADF,GAEI,MAAKhW,KAFT,CACEgW,kBADF;AAGAnS,MAAAA,QAAQ,CAACyS,mBAAT,CAA6B,WAA7B,EAA0CN,kBAA1C;AACD,KAxDkB;;AAAA,8GA0DD,YAAM;AACtB,wBAAgC,MAAKne,KAArC;AAAA,UAAQ0e,SAAR,eAAQA,SAAR;AAAA,UAAmBC,QAAnB,eAAmBA,QAAnB;AACA,UAAMC,UAAU,GAAGF,SAAS,CAACb,OAAV,CAAkBgB,qBAAlB,EAAnB;AACA,UAAMC,CAAC,GAAGF,UAAU,CAACE,CAAX,IAAgBF,UAAU,CAACG,IAArC;AACA,UAAMC,CAAC,GAAGJ,UAAU,CAACI,CAAX,IAAgBJ,UAAU,CAACK,GAArC;AACA,UAAMC,SAAS,GAAG;AAChBD,QAAAA,GAAG,EAAED,CADW;AAEhBD,QAAAA,IAAI,EAAED;AAFU,OAAlB;AAKA,UAAI,CAAC,MAAKZ,OAAL,CAAaL,OAAlB,EAA2B,OAAOqB,SAAP;AAE3B,oBAAoCrT,MAApC;AAAA,UAAQsT,UAAR,WAAQA,UAAR;AAAA,UAAoBC,WAApB,WAAoBA,WAApB;;AACA,UAAMC,IAAI,GAAG,MAAKnB,OAAL,CAAaL,OAAb,CAAqBgB,qBAArB,EAAb;;AACA,UAAIG,CAAC,GAAGK,IAAI,CAACzM,MAAT,GAAkBwM,WAAtB,EAAmC;AACjCF,QAAAA,SAAS,CAACD,GAAV,IAAiBI,IAAI,CAACzM,MAAtB;AACD;;AAED,UAAIkM,CAAC,GAAGO,IAAI,CAAC1M,KAAT,GAAiBwM,UAAjB,IAA+B,CAACR,QAApC,EAA8C;AAC5CO,QAAAA,SAAS,CAACH,IAAV,IAAkBM,IAAI,CAAC1M,KAAvB;AACD;;AAED,UAAIuM,SAAS,CAACD,GAAV,GAAgB,CAApB,EAAuB;AACrBC,QAAAA,SAAS,CAACD,GAAV,GAAgBI,IAAI,CAACzM,MAAL,GAAcwM,WAAd,GAA4B,CAACA,WAAW,GAAGC,IAAI,CAACzM,MAApB,IAA8B,CAA1D,GAA8D,CAA9E;AACD;;AAED,UAAIsM,SAAS,CAACH,IAAV,GAAiB,CAArB,EAAwB;AACtBG,QAAAA,SAAS,CAACH,IAAV,GAAiBM,IAAI,CAAC1M,KAAL,GAAawM,UAAb,GAA0B,CAACA,UAAU,GAAGE,IAAI,CAAC1M,KAAnB,IAA4B,CAAtD,GAA0D,CAA3E;AACD;;AAEDuM,MAAAA,SAAS,CAACD,GAAV,IAAiB,EAAjB;;AACA,UAAIN,QAAJ,EAAc;AACZ,YAAMW,OAAO,GAAGC,MAAM,CAACC,KAAP,CAAaH,IAAI,CAAC1M,KAAL,GAAa,EAA1B,IACZ,GADY;AAAA,UAEZ0M,IAAI,CAAC1M,KAAL,GAAa,EAFjB;AAGAuM,QAAAA,SAAS,CAACH,IAAV,IAAkBO,OAAlB;AACD;;AAED,aAAO,MAAKf,QAAL,CAAc;AAAEW,QAAAA,SAAS,EAATA;AAAF,OAAd,CAAP;AACD,KAjGkB;;AAEjB,UAAKhB,OAAL,gBAAexe,yBAAK,CAAC+f,SAAN,EAAf;AACA,UAAKtX,KAAL,GAAa;AACX+W,MAAAA,SAAS,EAAE,EADA;AAEXf,MAAAA,kBAAkB,EAAE,8BAAM;AAFf,KAAb;AAHiB;AAOlB;;;;WAED,6BAAoB;AAClB,WAAKuB,WAAL;AACA,WAAKC,eAAL;AACA,WAAKC,UAAL;AACD;;;WAED,gCAAuB;AACrB,WAAKC,aAAL;AACA,WAAKC,UAAL;AACD;;;WAiFD,kBAAS;AACP,UAAQZ,SAAR,GAAsB,KAAK/W,KAA3B,CAAQ+W,SAAR;AACA,yBAA4B,KAAKlf,KAAjC;AAAA,UAAQC,QAAR,gBAAQA,QAAR;AAAA,UAAkBoM,KAAlB,gBAAkBA,KAAlB;AACA,0BACEoJ,qBAAY,eAER/V,+FACEA;AAAK,QAAA,SAAS,EAAC;AAAf,QADF,eAEEA;AACE,QAAA,SAAS,EAAC,yBADZ;AAEE,QAAA,GAAG,EAAE,KAAKwe,OAFZ;AAGE,QAAA,KAAK;AACH6B,UAAAA,OAAO,EAAE,cADN;AAEHzT,UAAAA,QAAQ,EAAE,OAFP;AAGHyS,UAAAA,IAAI,YAAKvT,IAAI,CAACwU,KAAL,CAAWd,SAAS,CAACH,IAArB,CAAL,OAHD;AAIHE,UAAAA,GAAG,YAAKzT,IAAI,CAACwU,KAAL,CAAWd,SAAS,CAACD,GAArB,CAAL;AAJA,WAKA5S,KALA;AAHP,SAWGpM,QAXH,CAFF,CAFQ,EAmBV+L,QAAQ,CAAC+J,cAAT,CAAwB,0BAAxB,CAnBU,CADd;AAuBD;;;;EA9HoCkK;AAgIvCtC,WAAS,CAACxd,SAAV,GAAsB;AACpB8d,EAAAA,aAAa,EAAE7d,6BAAS,CAACO,IAAV,CAAeF,UADV;AAEpBR,EAAAA,QAAQ,EAAEG,6BAAS,CAACC,SAAV,CAAoB,CAC5BD,6BAAS,CAACE,OADkB,EAE5BF,6BAAS,CAACG,OAAV,CAAkBH,6BAAS,CAACE,OAA5B,CAF4B,CAApB,EAGPG,UALiB;AAMpB4L,EAAAA,KAAK,EAAEjM,6BAAS,CAAC+S,KAAV,CAAgB,EAAhB,CANa;AAOpB;AACAuL,EAAAA,SAAS,EAAEte,6BAAS,CAACC,SAAV,CAAoB,CAC7BD,6BAAS,CAACO,IADmB,EAE7BP,6BAAS,CAAC+S,KAAV,CAAgB;AAAE0K,IAAAA,OAAO,EAAEzd,6BAAS,CAAC8f,UAAV,CAAqBC,OAArB;AAAX,GAAhB,CAF6B,CAApB,EAGR1f,UAXiB;AAYpBmd,EAAAA,gBAAgB,EAAExd,6BAAS,CAACC,SAAV,CAAoB,CACpCD,6BAAS,CAACO,IAD0B,EAEpCP,6BAAS,CAAC+S,KAAV,CAAgB;AAAE0K,IAAAA,OAAO,EAAEzd,6BAAS,CAAC8f,UAAV,CAAqBC,OAArB;AAAX,GAAhB,CAFoC,CAApB,EAGf1f,UAfiB;AAgBpBke,EAAAA,QAAQ,EAAEve,6BAAS,CAACM;AAhBA,CAAtB;AAkBAid,WAAS,CAAC9c,YAAV,GAAyB;AACvBwL,EAAAA,KAAK,EAAE,EADgB;AAEvBsS,EAAAA,QAAQ,EAAE;AAFa,CAAzB;;ACjJA,IAAMyB,kBAAkB,GAAG,sBAA3B;AACe,SAASC,SAAT,OAMZ;AAAA,MALDngB,SAKC,QALDA,SAKC;AAAA,MAJDogB,YAIC,QAJDA,YAIC;AAAA,MAHDC,SAGC,QAHDA,SAGC;AAAA,MAFDC,UAEC,QAFDA,UAEC;AAAA,MADDvgB,QACC,QADDA,QACC;;AACD,MAAIA,QAAQ,CAACmE,MAAT,GAAkBkc,YAAtB,EAAoC;AAClC,QAAMG,MAAM,GAAG,EAAf;;AAEA,SAAK,IAAItc,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlE,QAAQ,CAACmE,MAA7B,EAAqCD,CAAC,IAAImc,YAA1C,EAAwD;AACtDG,MAAAA,MAAM,CAACpc,IAAP,eACE3E;AACE,QAAA,SAAS,EAAE,iDACL4J,KAAK,CAACC,OAAN,CAAcrJ,SAAd,IAA2BA,SAA3B,GAAuC,CAACA,SAAD,CADlC,IAETkgB,kBAFS,GAGT7c,IAHS,CAGJ,GAHI,CADb;AAKE,QAAA,GAAG,EAAErD,SAAS,GAAGiE,CALnB;AAME,QAAA,KAAK,EAAE;AACLwO,UAAAA,KAAK,EAAE4N,SAAS,GAAGD,YADd;AAEL1N,UAAAA,MAAM,EAAE4N;AAFH;AANT,SAYIvgB,QAAQ,CAACgS,KAAT,CAAe9N,CAAf,EAAkBA,CAAC,GAAGmc,YAAtB,CAZJ,CADF;AAiBD;;AACD,WAAOG,MAAP;AACD;;AAED,sBACE/gB;AACE,IAAA,SAAS,EAAE,iDACL4J,KAAK,CAACC,OAAN,CAAcrJ,SAAd,IAA2BA,SAA3B,GAAuC,CAACA,SAAD,CADlC,IAETkgB,kBAFS,GAGT7c,IAHS,CAGJ,GAHI,CADb;AAKE,IAAA,KAAK,EAAE;AACLoP,MAAAA,KAAK,EAAE4N,SAAS,GAAGtgB,QAAQ,CAACmE,MADvB;AAELwO,MAAAA,MAAM,EAAE4N;AAFH;AALT,KAUGvgB,QAVH,CADF;AAcD;AAEDogB,SAAS,CAAClgB,SAAV,GAAsB;AACpBD,EAAAA,SAAS,EAAEE,6BAAS,CAACC,SAAV,CAAoB,CAC7BD,6BAAS,CAACQ,MADmB,EAE7BR,6BAAS,CAACG,OAAV,CAAkBH,6BAAS,CAACQ,MAA5B,CAF6B,CAApB,CADS;AAKpB0f,EAAAA,YAAY,EAAElgB,6BAAS,CAAC0R,MAAV,CAAiBrR,UALX;AAMpB8f,EAAAA,SAAS,EAAEngB,6BAAS,CAAC0R,MAAV,CAAiBrR,UANR;AAOpB+f,EAAAA,UAAU,EAAEpgB,6BAAS,CAAC0R,MAAV,CAAiBrR,UAPT;AAQpBR,EAAAA,QAAQ,EAAEG,6BAAS,CAACC,SAAV,CAAoB,CAC5BD,6BAAS,CAACE,OADkB,EAE5BF,6BAAS,CAACG,OAAV,CAAkBH,6BAAS,CAACE,OAA5B,CAF4B,EAG5BF,6BAAS,CAACQ,MAHkB,EAI5BR,6BAAS,CAACG,OAAV,CAAkBH,6BAAS,CAACQ,MAA5B,CAJ4B,CAApB,EAKPH;AAbiB,CAAtB;AAgBA4f,SAAS,CAACxf,YAAV,GAAyB;AACvBX,EAAAA,SAAS,EAAE;AADY,CAAzB;;IChEqBwgB;;;;;AACnB,0BAAY1gB,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,yGAoBN,YAAM;AACjB,kCAAkC,MAAKA,KAAvC,CAAQ4d,gBAAR;AAAA,UAAQA,gBAAR,sCAA2B,EAA3B;AACA,UAAQC,OAAR,GAAoBD,gBAApB,CAAQC,OAAR;;AACA,UAAID,gBAAgB,IAAIC,OAAxB,EAAiC;AAC/BA,QAAAA,OAAO,CAACC,SAAR,CAAkBC,GAAlB,CAAsB,6BAAtB;AACD;AACF,KA1BkB;;AAAA,yGA4BN,YAAM;AACjB,mCAAkC,MAAK/d,KAAvC,CAAQ4d,gBAAR;AAAA,UAAQA,gBAAR,uCAA2B,EAA3B;AACA,UAAQC,OAAR,GAAoBD,gBAApB,CAAQC,OAAR;;AACA,UAAID,gBAAgB,IAAIC,OAAxB,EAAiC;AAC/BA,QAAAA,OAAO,CAACC,SAAR,CAAkBE,MAAlB,CAAyB,6BAAzB;AACD;AACF,KAlCkB;;AAAA,0GAoCL,YAAM;AAClB,UAAQC,aAAR,GAA0B,MAAKje,KAA/B,CAAQie,aAAR;;AACA;AAAA,UAAQ0C,WAAR,yBAAQA,WAAR;;AACA,UAAMxC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,KAAD,EAAW;AACpC,YAAIuC,WAAW,CAAC9C,OAAZ,IAAuB,CAAC8C,WAAW,CAAC9C,OAAZ,CAAoBQ,QAApB,CAA6BD,KAAK,CAACE,MAAnC,CAA5B,EAAwE;AACtEL,UAAAA,aAAa;AACd;AACF,OAJD;;AAKA,YAAKM,QAAL,CAAc;AACZJ,QAAAA,kBAAkB,EAAlBA;AADY,OAAd;;AAGAnS,MAAAA,QAAQ,CAACwS,gBAAT,CAA0B,WAA1B,EAAuCL,kBAAvC;AACD,KAhDkB;;AAAA,4GAkDH,YAAM;AACpB,UACEA,kBADF,GAEI,MAAKhW,KAFT,CACEgW,kBADF;AAGAnS,MAAAA,QAAQ,CAACyS,mBAAT,CAA6B,WAA7B,EAA0CN,kBAA1C;AACD,KAvDkB;;AAAA,6GAyDF,YAAM;AACrB;AACA,wBAGI,MAAKne,KAHT;AAAA,UACE0e,SADF,eACEA,SADF;AAAA,UAEEkC,gBAFF,eAEEA,gBAFF;AAIA,UAAMC,iBAAiB,GAAGD,gBAAgB,CAAC9B,CAAjB,IAAsB,CAAhD;AACA,UAAMgC,iBAAiB,GAAGF,gBAAgB,CAAC5B,CAAjB,IAAsB,CAAhD;AAEA,UAAMJ,UAAU,GAAGF,SAAS,CAACb,OAAV,CAAkBgB,qBAAlB,EAAnB;AAEA,UAAMC,CAAC,GAAGF,UAAU,CAACE,CAAX,IAAgBF,UAAU,CAACG,IAArC;AACA,UAAMC,CAAC,GAAGJ,UAAU,CAACI,CAAX,IAAgBJ,UAAU,CAACK,GAArC;AAEA,UAAM8B,aAAa,GAAG;AACpB9B,QAAAA,GAAG,EAAED,CADe;AAEpBD,QAAAA,IAAI,EAAED;AAFc,OAAtB;AAKA,UAAI,CAAC,MAAK6B,WAAL,CAAiB9C,OAAtB,EAA+B,OAAOkD,aAAP;;AAC/B,UAAM1B,IAAI,GAAG,MAAKsB,WAAL,CAAiB9C,OAAjB,CAAyBgB,qBAAzB,EAAb;;AAEA,UAAIkC,aAAa,CAAC9B,GAAd,GAAoBI,IAAI,CAACzM,MAA7B,EAAqC;AACnCmO,QAAAA,aAAa,CAAC9B,GAAd,IAAqBL,UAAU,CAAChM,MAAhC;AACAmO,QAAAA,aAAa,CAAC9B,GAAd,IAAqB6B,iBAArB;AACD,OAHD,MAGO;AACLC,QAAAA,aAAa,CAAC9B,GAAd,IAAqBI,IAAI,CAACzM,MAA1B;AACAmO,QAAAA,aAAa,CAAC9B,GAAd,IAAqB6B,iBAArB;AACD;;AAEDC,MAAAA,aAAa,CAAChC,IAAd,IAAuBM,IAAI,CAAC1M,KAAL,GAAa,CAApC;AACAoO,MAAAA,aAAa,CAAChC,IAAd,IAAuBH,UAAU,CAAChM,MAAX,GAAoB,CAArB,GAA0B,CAAhD;AACAmO,MAAAA,aAAa,CAAChC,IAAd,IAAsB8B,iBAAtB;AAEA,UAAMG,WAAW,GAAInV,MAAM,CAACsT,UAAP,GAAoBE,IAAI,CAAC1M,KAA9C;;AACA,UAAIqO,WAAW,GAAGD,aAAa,CAAChC,IAAhC,EAAsC;AACpCgC,QAAAA,aAAa,CAAChC,IAAd,GAAqBiC,WAArB;AACD;;AACD,UAAID,aAAa,CAAChC,IAAd,GAAqB,CAAzB,EAA4B;AAC1BgC,QAAAA,aAAa,CAAChC,IAAd,GAAqB,CAArB;AACD;;AAED,aAAO,MAAKR,QAAL,CAAc;AAAEwC,QAAAA,aAAa,EAAbA;AAAF,OAAd,CAAP;AACD,KApGkB;;AAEjB,UAAKJ,WAAL,gBAAmBjhB,yBAAK,CAAC+f,SAAN,EAAnB;AACA,UAAKtX,KAAL,GAAa;AACX4Y,MAAAA,aAAa,EAAE,EADJ;AAEX5C,MAAAA,kBAAkB,EAAE,8BAAM;AAFf,KAAb;AAHiB;AAOlB;;;;WAED,6BAAoB;AAClB,WAAKuB,WAAL;AACA,WAAKuB,cAAL;AACA,WAAKrB,UAAL;AACD;;;WAED,gCAAuB;AACrB,WAAKC,aAAL;AACA,WAAKC,UAAL;AACD;;;WAoFD,kBAAS;AACP,UAAQiB,aAAR,GAA0B,KAAK5Y,KAA/B,CAAQ4Y,aAAR;AACA,UAAQ9gB,QAAR,GAAqB,KAAKD,KAA1B,CAAQC,QAAR;AACA,0BACEwV,qBAAY,eACV/V,+FACEA;AAAK,QAAA,SAAS,EAAC;AAAf,QADF,eAEEA;AACE,QAAA,SAAS,EAAC,iCADZ;AAEE,QAAA,GAAG,EAAE,KAAKihB,WAFZ;AAGE,QAAA,KAAK,EAAE;AACLZ,UAAAA,OAAO,EAAE,cADJ;AAELzT,UAAAA,QAAQ,EAAE,OAFL;AAGLyS,UAAAA,IAAI,YAAKvT,IAAI,CAACwU,KAAL,CAAWe,aAAa,CAAChC,IAAzB,CAAL,OAHC;AAILE,UAAAA,GAAG,YAAKzT,IAAI,CAACwU,KAAL,CAAWe,aAAa,CAAC9B,GAAzB,CAAL;AAJE;AAHT,sBAUEvf,wCAAC,SAAD;AACE,QAAA,SAAS,EAAC,sCADZ;AAEE,QAAA,YAAY,EAAE,CAFhB;AAGE,QAAA,SAAS,EAAE,EAHb;AAIE,QAAA,UAAU,EAAE;AAJd,SAMGO,QANH,CAVF,CAFF,CADU,EAuBV+L,QAAQ,CAAC+J,cAAT,CAAwB,4BAAxB,CAvBU,CADd;AA2BD;;;;EArIyCkK;AAuI5CS,gBAAc,CAACvgB,SAAf,GAA2B;AACzB8d,EAAAA,aAAa,EAAE7d,6BAAS,CAACO,IAAV,CAAeF,UADL;AAEzBR,EAAAA,QAAQ,EAAEG,6BAAS,CAACC,SAAV,CAAoB,CAC5BD,6BAAS,CAACE,OADkB,EAE5BF,6BAAS,CAACG,OAAV,CAAkBH,6BAAS,CAACE,OAA5B,CAF4B,CAApB,EAGPG,UALsB;AAMzBie,EAAAA,SAAS,EAAEte,6BAAS,CAACC,SAAV,CAAoB,CAC7BD,6BAAS,CAACO,IADmB,EAE7BP,6BAAS,CAAC+S,KAAV,CAAgB;AAAE0K,IAAAA,OAAO,EAAEzd,6BAAS,CAAC8f,UAAV,CAAqBC,OAArB;AAAX,GAAhB,CAF6B,CAApB,EAGR1f,UATsB;AAUzBmd,EAAAA,gBAAgB,EAAExd,6BAAS,CAACC,SAAV,CAAoB,CACpCD,6BAAS,CAACO,IAD0B,EAEpCP,6BAAS,CAAC+S,KAAV,CAAgB;AAAE0K,IAAAA,OAAO,EAAEzd,6BAAS,CAAC8f,UAAV,CAAqBC,OAArB;AAAX,GAAhB,CAFoC,CAApB,EAGf1f,UAbsB;AAczBmgB,EAAAA,gBAAgB,EAAExgB,6BAAS,CAAC+S,KAAV,CAAgB;AAChC2L,IAAAA,CAAC,EAAE1e,6BAAS,CAAC0R,MADmB;AAEhCkN,IAAAA,CAAC,EAAE5e,6BAAS,CAAC0R;AAFmB,GAAhB;AAdO,CAA3B;AAmBA4O,gBAAc,CAAC7f,YAAf,GAA8B;AAC5B+f,EAAAA,gBAAgB,EAAE;AADU,CAA9B;;ACrJA,IAAMM,KAAK,GAAG,EAAd;IAEavD,SAAS,GAAGwD;IACZT,cAAc,GAAGU;IAEjBC,QAAQ,GAAG,SAAXA,QAAW,OAKlB;AAAA,MAJJnhB,SAII,QAJJA,SAII;AAAA,MAHJD,QAGI,QAHJA,QAGI;AAAA,MAFJ4S,OAEI,QAFJA,OAEI;AAAA,MADJyO,OACI,QADJA,OACI;;AACJ,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACrO,CAAD,EAAO;AAAE,QAAI,CAACoO,OAAL,EAAczO,OAAO,CAACK,CAAD,CAAP;AAAa,GAA7D;;AACA,sBACExT;AACE,IAAA,SAAS,EAAE8J,YAAY,CAAC,CAACtJ,SAAD,EAAY,8BAAZ,EAA4CohB,OAAO,GAAG,SAAH,GAAe,EAAlE,CAAD,CADzB;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,OAAO,EAAEC,gBAHX;AAIE,IAAA,UAAU,EAAE,oBAACrO,CAAD,EAAO;AAAE,UAAIA,CAAC,CAACsO,OAAF,KAAcN,KAAlB,EAAyBK,gBAAgB,CAACrO,CAAD,CAAhB;AAAsB,KAJtE;AAKE,IAAA,QAAQ,EAAE;AALZ,kBAOExT,wCAACwU,WAAD;AACE,IAAA,SAAS,EAAC,oCADZ;AAEE,IAAA,IAAI,EAAEC,qBAAe,CAACsN,UAFxB;AAGE,IAAA,KAAK,EAAEH,OAAO,GAAGjN,iBAAW,CAAC8B,cAAf,GAAgC9B,iBAAW,CAACS;AAH5D,KAKG7U,QALH,CAPF,CADF;AAiBD;AAEDohB,QAAQ,CAAClhB,SAAT,GAAqB;AACnBD,EAAAA,SAAS,EAAEE,6BAAS,CAACC,SAAV,CAAoB,CAC7BD,6BAAS,CAACQ,MADmB,EAE7BR,6BAAS,CAACG,OAAV,CAAkBH,6BAAS,CAACQ,MAA5B,CAF6B,CAApB,CADQ;AAKnBX,EAAAA,QAAQ,EAAEG,6BAAS,CAACC,SAAV,CAAoB,CAC5BD,6BAAS,CAACQ,MADkB,EAE5BR,6BAAS,CAACE,OAFkB,CAApB,EAGPG,UARgB;AASnBoS,EAAAA,OAAO,EAAEzS,6BAAS,CAACO,IAAV,CAAeF,UATL;AAUnB6gB,EAAAA,OAAO,EAAElhB,6BAAS,CAACO;AAVA,CAArB;AAaA0gB,QAAQ,CAACxgB,YAAT,GAAwB;AACtBX,EAAAA,SAAS,EAAE,EADW;AAEtBohB,EAAAA,OAAO,EAAE;AAFa,CAAxB;AAae,SAASI,WAAT,QAAiD;AAAA,MAA1BC,WAA0B,SAA1BA,WAA0B;AAAA,MAAbC,SAAa,SAAbA,SAAa;;AAC9D,kBAAgC7O,cAAQ,CAAC,KAAD,CAAxC;AAAA;AAAA,MAAO8O,QAAP;AAAA,MAAiBC,WAAjB;;AAEA,sBACEpiB;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAuC,IAAA,KAAK,EAAE;AAAEqgB,MAAAA,OAAO,EAAE;AAAX;AAA9C,KACG4B,WAAW,CAAC;AAAA,WAAMG,WAAW,CAAC,CAACD,QAAF,CAAjB;AAAA,GAAD,CADd,EAEGA,QAAQ,IAAID,SAAS,CAAC;AAAA,WAAME,WAAW,CAAC,KAAD,CAAjB;AAAA,GAAD,CAFxB,CADF;AAMD;AAEDJ,WAAW,CAACvhB,SAAZ,GAAwB;AACtBwhB,EAAAA,WAAW,EAAEvhB,6BAAS,CAACO,IAAV,CAAeF,UADN;AAEtBmhB,EAAAA,SAAS,EAAExhB,6BAAS,CAACO,IAAV,CAAeF;AAFJ,CAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}